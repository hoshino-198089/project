(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}})();class S{static loadFile(t){return new Promise(async r=>{const i=await(await fetch(t)).text();r(i)})}static loadImage(t){return new Promise(r=>{const e=new Image;e.addEventListener("load",()=>{r(e)},!1),e.src=t})}static createWebGLContext(t){const r=t.getContext("webgl",{stencil:!0});if(r==null)throw new Error("webgl not supported");return r}static createShaderObject(t,r,e){const i=t.createShader(e);if(t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))return i;throw new Error(t.getShaderInfoLog(i))}static createProgramObject(t,r,e){const i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,e),t.linkProgram(i),t.deleteShader(r),t.deleteShader(e),t.getProgramParameter(i,t.LINK_STATUS))return t.useProgram(i),i;throw new Error(t.getProgramInfoLog(i))}static createVBO(t,r){const e=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,e),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),e}static createIBO(t,r){const e=t.createBuffer();return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Int16Array(r),t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null),e}static enableBuffer(t,r,e,i,n){for(let s=0;s<r.length;++s)t.bindBuffer(t.ARRAY_BUFFER,r[s]),t.enableVertexAttribArray(e[s]),t.vertexAttribPointer(e[s],i[s],t.FLOAT,!1,0,0);n!=null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n)}static createTexture(t,r,e=null,i){const n=t.createTexture();return t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r),t.generateMipmap(t.TEXTURE_2D),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e&&t.texParameterf(t.TEXTURE_2D,i.TEXTURE_MAX_ANISOTROPY_EXT,e),t.bindTexture(t.TEXTURE_2D,null),n}static createCubeTexture(t,r,e){const i=t.createTexture();return t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_CUBE_MAP,i),e.forEach((n,s)=>{t.texImage2D(n,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r[s])}),t.generateMipmap(t.TEXTURE_CUBE_MAP),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.bindTexture(t.TEXTURE_CUBE_MAP,null),i}static createCubeTextureFromFile(t,r,e){return new Promise(async i=>{const n=r.map(a=>new Promise(u=>{const f=new Image;f.addEventListener("load",()=>{u(f)},!1),f.src=a})),s=await Promise.all(n),o=S.createCubeTexture(t,s,e);i(o)})}static createFramebuffer(t,r,e){const i=t.createFramebuffer(),n=t.createRenderbuffer(),s=t.createTexture();return t.bindFramebuffer(t.FRAMEBUFFER,i),t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,s),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,e,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,s,0),t.bindTexture(t.TEXTURE_2D,null),t.bindRenderbuffer(t.RENDERBUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),{framebuffer:i,depthRenderbuffer:n,texture:s}}static resizeFramebuffer(t,r,e,i,n){i!=null&&(t.bindRenderbuffer(t.RENDERBUFFER,i),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,r,e)),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,e,0,t.RGBA,t.UNSIGNED_BYTE,null)}static deleteFramebuffer(t,r,e,i){t.deleteFramebuffer(r),r=null,e!=null&&(t.deleteRenderbuffer(e),e=null),t.deleteTexture(i),i=null}}class be{static create(t=0,r=0){const e=new Float32Array(2);return e[0]=t,e[1]=r,e}static length(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}static normalize(t){const r=be.create(),e=be.length(t);if(e>0){const i=1/e;r[0]=t[0]*i,r[1]=t[1]*i}return r}static dot(t,r){return t[0]*r[0]+t[1]*r[1]}static cross(t,r){return t[0]*r[1]-t[1]*r[0]}}class V{static create(t=0,r=0,e=0){const i=new Float32Array(3);return i[0]=t,i[1]=r,i[2]=e,i}static add(t,r){const e=new Float32Array(3);return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}static length(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}static normalize(t){const r=V.create(),e=V.length(t);if(e>0){const i=1/e;r[0]=t[0]*i,r[1]=t[1]*i,r[2]=t[2]*i}return r}static dot(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}static cross(t,r){return V.create(t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0])}static faceNormal(t,r,e){const i=V.create(r[0]-t[0],r[1]-t[1],r[2]-t[2]),n=V.create(e[0]-t[0],e[1]-t[1],e[2]-t[2]),s=V.create(i[1]*n[2]-i[2]*n[1],i[2]*n[0]-i[0]*n[2],i[0]*n[1]-i[1]*n[0]);return V.normalize(s)}}class D{static create(){return new Float32Array(16)}static identity(t){const r=t??D.create();return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}static multiply(t,r,e){const i=e??D.create(),n=t[0],s=t[1],o=t[2],a=t[3],u=t[4],f=t[5],l=t[6],_=t[7],d=t[8],m=t[9],c=t[10],p=t[11],g=t[12],v=t[13],T=t[14],y=t[15],x=r[0],b=r[1],E=r[2],R=r[3],P=r[4],w=r[5],U=r[6],A=r[7],O=r[8],F=r[9],C=r[10],M=r[11],k=r[12],q=r[13],vt=r[14],dt=r[15];return i[0]=x*n+b*u+E*d+R*g,i[1]=x*s+b*f+E*m+R*v,i[2]=x*o+b*l+E*c+R*T,i[3]=x*a+b*_+E*p+R*y,i[4]=P*n+w*u+U*d+A*g,i[5]=P*s+w*f+U*m+A*v,i[6]=P*o+w*l+U*c+A*T,i[7]=P*a+w*_+U*p+A*y,i[8]=O*n+F*u+C*d+M*g,i[9]=O*s+F*f+C*m+M*v,i[10]=O*o+F*l+C*c+M*T,i[11]=O*a+F*_+C*p+M*y,i[12]=k*n+q*u+vt*d+dt*g,i[13]=k*s+q*f+vt*m+dt*v,i[14]=k*o+q*l+vt*c+dt*T,i[15]=k*a+q*_+vt*p+dt*y,i}static scale(t,r,e){const i=e??D.create();return i[0]=t[0]*r[0],i[1]=t[1]*r[0],i[2]=t[2]*r[0],i[3]=t[3]*r[0],i[4]=t[4]*r[1],i[5]=t[5]*r[1],i[6]=t[6]*r[1],i[7]=t[7]*r[1],i[8]=t[8]*r[2],i[9]=t[9]*r[2],i[10]=t[10]*r[2],i[11]=t[11]*r[2],i[12]=t[12],i[13]=t[13],i[14]=t[14],i[15]=t[15],i}static translate(t,r,e){const i=e??D.create();return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i[6]=t[6],i[7]=t[7],i[8]=t[8],i[9]=t[9],i[10]=t[10],i[11]=t[11],i[12]=t[0]*r[0]+t[4]*r[1]+t[8]*r[2]+t[12],i[13]=t[1]*r[0]+t[5]*r[1]+t[9]*r[2]+t[13],i[14]=t[2]*r[0]+t[6]*r[1]+t[10]*r[2]+t[14],i[15]=t[3]*r[0]+t[7]*r[1]+t[11]*r[2]+t[15],i}static rotate(t,r,e,i){let n=i??D.create();const s=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);if(!s)return null;let o=e[0],a=e[1],u=e[2];if(s!=1){const q=1/s;o*=q,a*=q,u*=q}const f=Math.sin(r),l=Math.cos(r),_=1-l,d=t[0],m=t[1],c=t[2],p=t[3],g=t[4],v=t[5],T=t[6],y=t[7],x=t[8],b=t[9],E=t[10],R=t[11],P=o*o*_+l,w=a*o*_+u*f,U=u*o*_-a*f,A=o*a*_-u*f,O=a*a*_+l,F=u*a*_+o*f,C=o*u*_+a*f,M=a*u*_-o*f,k=u*u*_+l;return r?t!=n&&(n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]):n=t,n[0]=d*P+g*w+x*U,n[1]=m*P+v*w+b*U,n[2]=c*P+T*w+E*U,n[3]=p*P+y*w+R*U,n[4]=d*A+g*O+x*F,n[5]=m*A+v*O+b*F,n[6]=c*A+T*O+E*F,n[7]=p*A+y*O+R*F,n[8]=d*C+g*M+x*k,n[9]=m*C+v*M+b*k,n[10]=c*C+T*M+E*k,n[11]=p*C+y*M+R*k,n}static lookAt(t,r,e,i){const n=i??D.create(),s=t[0],o=t[1],a=t[2],u=r[0],f=r[1],l=r[2],_=e[0],d=e[1],m=e[2];if(s==u&&o==f&&a==l)return D.identity(n);let c,p,g,v,T,y,x,b,E,R;return x=s-u,b=o-f,E=a-l,R=1/Math.sqrt(x*x+b*b+E*E),x*=R,b*=R,E*=R,c=d*E-m*b,p=m*x-_*E,g=_*b-d*x,R=Math.sqrt(c*c+p*p+g*g),R?(R=1/R,c*=R,p*=R,g*=R):(c=0,p=0,g=0),v=b*g-E*p,T=E*c-x*g,y=x*p-b*c,R=Math.sqrt(v*v+T*T+y*y),R?(R=1/R,v*=R,T*=R,y*=R):(v=0,T=0,y=0),n[0]=c,n[1]=v,n[2]=x,n[3]=0,n[4]=p,n[5]=T,n[6]=b,n[7]=0,n[8]=g,n[9]=y,n[10]=E,n[11]=0,n[12]=-(c*s+p*o+g*a),n[13]=-(v*s+T*o+y*a),n[14]=-(x*s+b*o+E*a),n[15]=1,n}static perspective(t,r,e,i,n){const s=n??D.create(),o=e*Math.tan(t*Math.PI/360),u=o*r*2,f=o*2,l=i-e;return s[0]=e*2/u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=e*2/f,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=-(i+e)/l,s[11]=-1,s[12]=0,s[13]=0,s[14]=-(i*e*2)/l,s[15]=0,s}static ortho(t,r,e,i,n,s,o){const a=o??D.create(),u=r-t,f=e-i,l=s-n;return a[0]=2/u,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2/f,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2/l,a[11]=0,a[12]=-(t+r)/u,a[13]=-(e+i)/f,a[14]=-(s+n)/l,a[15]=1,a}static transpose(t,r){const e=r??D.create();return e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15],e}static inverse(t,r){const e=r??D.create(),i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],u=t[5],f=t[6],l=t[7],_=t[8],d=t[9],m=t[10],c=t[11],p=t[12],g=t[13],v=t[14],T=t[15],y=i*u-n*a,x=i*f-s*a,b=i*l-o*a,E=n*f-s*u,R=n*l-o*u,P=s*l-o*f,w=_*g-d*p,U=_*v-m*p,A=_*T-c*p,O=d*v-m*g,F=d*T-c*g,C=m*T-c*v,M=1/(y*C-x*F+b*O+E*A-R*U+P*w);return e[0]=(u*C-f*F+l*O)*M,e[1]=(-n*C+s*F-o*O)*M,e[2]=(g*P-v*R+T*E)*M,e[3]=(-d*P+m*R-c*E)*M,e[4]=(-a*C+f*A-l*U)*M,e[5]=(i*C-s*A+o*U)*M,e[6]=(-p*P+v*b-T*x)*M,e[7]=(_*P-m*b+c*x)*M,e[8]=(a*F-u*A+l*w)*M,e[9]=(-i*F+n*A-o*w)*M,e[10]=(p*R-g*b+T*y)*M,e[11]=(-_*R+d*b-c*y)*M,e[12]=(-a*O+u*U-f*w)*M,e[13]=(i*O-n*U+s*w)*M,e[14]=(-p*E+g*x-v*y)*M,e[15]=(_*E-d*x+m*y)*M,e}static toVecIV(t,r){const e=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],u=t[6],f=t[7],l=t[8],_=t[9],d=t[10],m=t[11],c=t[12],p=t[13],g=t[14],v=t[15],T=r[0],y=r[1],x=r[2],b=r[3],E=new Float32Array(4);return E[0]=T*e+y*o+x*l+b*c,E[1]=T*i+y*a+x*_+b*p,E[2]=T*n+y*u+x*d+b*g,E[3]=T*s+y*f+x*m+b*v,E}static screenPositionFromMvp(t,r,e,i){const n=e*.5,s=i*.5,o=D.toVecIV(t,[r[0],r[1],r[2],1]);if(o[3]<=0)return[NaN,NaN];o[0]/=o[3],o[1]/=o[3],o[2]/=o[3];const a=be.create();return a[0]=n+o[0]*n,a[1]=s-o[1]*s,a}}class he{static plane(t,r,e){const i=t/2,n=r/2,s=[-i,n,0,i,n,0,-i,-n,0,i,-n,0],o=[0,0,1,0,0,1,0,0,1,0,0,1],a=[e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3],e[0],e[1],e[2],e[3]];return{position:s,normal:o,color:a,texCoord:[0,0,1,0,0,1,1,1],index:[0,2,1,1,2,3]}}static circle(t,r,e){const i=[],n=[],s=[],o=[],a=[];i.push(0,0,0),n.push(0,0,1),s.push(e[0],e[1],e[2],e[3]),o.push(.5,.5);let u=0;for(let f=0;f<t;f++){const l=Math.PI*2/t*f,_=Math.cos(l),d=Math.sin(l);i.push(_*r,d*r,0),n.push(0,0,1),s.push(e[0],e[1],e[2],e[3]),o.push((_+1)*.5,1-(d+1)*.5),f===t-1?a.push(0,u+1,1):a.push(0,u+1,u+2),++u}return{position:i,normal:n,color:s,texCoord:o,index:a}}static cube(t,r){const e=t*.5,i=[-e,-e,e,e,-e,e,e,e,e,-e,e,e,-e,-e,-e,-e,e,-e,e,e,-e,e,-e,-e,-e,e,-e,-e,e,e,e,e,e,e,e,-e,-e,-e,-e,e,-e,-e,e,-e,e,-e,-e,e,e,-e,-e,e,e,-e,e,e,e,e,-e,e,-e,-e,-e,-e,-e,e,-e,e,e,-e,e,-e],n=1/Math.sqrt(3),s=[-n,-n,n,n,-n,n,n,n,n,-n,n,n,-n,-n,-n,-n,n,-n,n,n,-n,n,-n,-n,-n,n,-n,-n,n,n,n,n,n,n,n,-n,-n,-n,-n,n,-n,-n,n,-n,n,-n,-n,n,n,-n,-n,n,n,-n,n,n,n,n,-n,n,-n,-n,-n,-n,-n,n,-n,n,n,-n,n,-n],o=[];for(let f=0;f<i.length/3;f++)o.push(r[0],r[1],r[2],r[3]);return{position:i,normal:s,color:o,texCoord:[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],index:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}}static cube2(t,r){const e=t*.5,i=[-e,-e,e,e,-e,e,e,e,e,-e,e,e,-e,-e,-e,-e,e,-e,e,e,-e,e,-e,-e,-e,e,-e,-e,e,e,e,e,e,e,e,-e,-e,-e,-e,e,-e,-e,e,-e,e,-e,-e,e,e,-e,-e,e,e,-e,e,e,e,e,-e,e,-e,-e,-e,-e,-e,e,-e,e,e,-e,e,-e],n=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0],s=[];for(let u=0;u<i.length/3;u++)s.push(r[0],r[1],r[2],r[3]);return{position:i,normal:n,color:s,texCoord:[0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1,0,0,1,0,1,1,0,1],index:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}}static cone(t,r,e,i){const n=[],s=[],o=[],a=[],u=[],f=e/2;n.push(0,-f,0),s.push(0,-1,0),o.push(i[0],i[1],i[2],i[3]),a.push(.5,.5);let l=0;for(let _=0;_<=t;_++){const d=Math.PI*2/t*_,m=Math.cos(d),c=Math.sin(d);n.push(m*r,-f,c*r,m*r,-f,c*r),s.push(0,-1,0,m,0,c),o.push(i[0],i[1],i[2],i[3],i[0],i[1],i[2],i[3]),a.push((m+1)*.5,1-(c+1)*.5,(m+1)*.5,1-(c+1)*.5),_!==t&&(u.push(0,l+1,l+3),u.push(l+4,l+2,t*2+3)),l+=2}return n.push(0,f,0),s.push(0,1,0),o.push(i[0],i[1],i[2],i[3]),a.push(.5,.5),{position:n,normal:s,color:o,texCoord:a,index:u}}static cylinder(t,r,e,i,n){const s=[],o=[],a=[],u=[],f=[],l=i/2;s.push(0,l,0,0,-l,0),o.push(0,1,0,0,-1,0),a.push(n[0],n[1],n[2],n[3],n[0],n[1],n[2],n[3]),u.push(.5,.5,.5,.5);let _=2;for(let d=0;d<=t;d++){const m=Math.PI*2/t*d,c=Math.cos(m),p=Math.sin(m);s.push(c*r,l,p*r,c*r,l,p*r,c*e,-l,p*e,c*e,-l,p*e),o.push(0,1,0,c,0,p,0,-1,0,c,0,p),a.push(n[0],n[1],n[2],n[3],n[0],n[1],n[2],n[3],n[0],n[1],n[2],n[3],n[0],n[1],n[2],n[3]),u.push((c+1)*.5,1-(p+1)*.5,1-d/t,0,(c+1)*.5,1-(p+1)*.5,1-d/t,1),d!==t&&f.push(0,_+4,_,1,_+2,_+6,_+5,_+7,_+1,_+1,_+7,_+3),_+=4}return{position:s,normal:o,color:a,texCoord:u,index:f}}static sphere(t,r,e,i){const n=[],s=[],o=[],a=[],u=[];for(let f=0;f<=t;f++){const l=Math.PI/t*f,_=Math.cos(l),d=Math.sin(l);for(let m=0;m<=r;m++){const c=Math.PI*2/r*m,p=d*e*Math.cos(c),g=_*e,v=d*e*Math.sin(c),T=d*Math.cos(c),y=d*Math.sin(c);n.push(p,g,v),s.push(T,_,y),o.push(i[0],i[1],i[2],i[3]),a.push(1-1/r*m,1/t*f)}}for(let f=0;f<t;f++)for(let l=0;l<r;l++){const _=(r+1)*f+l;u.push(_,_+1,_+r+2),u.push(_,_+r+2,_+r+1)}return{position:n,normal:s,color:o,texCoord:a,index:u}}static torus(t,r,e,i,n){const s=[],o=[],a=[],u=[],f=[];for(let l=0;l<=t;l++){const _=Math.PI*2/t*l,d=Math.cos(_),m=Math.sin(_);for(let c=0;c<=r;c++){const p=Math.PI*2/r*c,g=(d*e+i)*Math.cos(p),v=m*e,T=(d*e+i)*Math.sin(p),y=d*Math.cos(p),x=d*Math.sin(p),b=1/r*c;let E=1/t*l+.5;E>1&&(E-=1),E=1-E,s.push(g,v,T),o.push(y,m,x),a.push(n[0],n[1],n[2],n[3]),u.push(b,E)}}for(let l=0;l<t;l++)for(let _=0;_<r;_++){const d=(r+1)*l+_;f.push(d,d+r+1,d+1),f.push(d+r+1,d+r+2,d+1)}return{position:s,normal:o,color:a,texCoord:u,index:f}}static icosahedron(t,r){const e=(1+Math.sqrt(5))/2,i=e*t,n=Math.sqrt(1+e*e),s=[1/n,e/n],o=[-t,i,0,t,i,0,-t,-i,0,t,-i,0,0,-t,i,0,t,i,0,-t,-i,0,t,-i,i,0,-t,i,0,t,-i,0,-t,-i,0,t],a=[-s[0],s[1],0,s[0],s[1],0,-s[0],-s[1],0,s[0],-s[1],0,0,-s[0],s[1],0,s[0],s[1],0,-s[0],-s[1],0,s[0],-s[1],s[1],0,-s[0],s[1],0,s[0],-s[1],0,-s[0],-s[1],0,s[0]],u=[r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3],r[0],r[1],r[2],r[3]],f=[];for(let _=0,d=a.length;_<d;_+=3){const m=(Math.atan2(a[_+2],-a[_])+Math.PI)/(Math.PI*2),c=1-(a[_+1]+1)/2;f.push(m,c)}return{position:o,normal:a,color:u,texCoord:f,index:[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1]}}}function yt(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}function Br(h,t){h.prototype=Object.create(t.prototype),h.prototype.constructor=h,h.__proto__=t}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var at={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},$t={duration:.5,overwrite:!1,delay:0},ir,Z,B,ct=1e8,z=1/ct,Ve=Math.PI*2,Bi=Ve/4,Ni=0,Nr=Math.sqrt,Xi=Math.cos,Vi=Math.sin,H=function(t){return typeof t=="string"},G=function(t){return typeof t=="function"},bt=function(t){return typeof t=="number"},nr=function(t){return typeof t>"u"},gt=function(t){return typeof t=="object"},J=function(t){return t!==!1},sr=function(){return typeof window<"u"},ve=function(t){return G(t)||H(t)},Xr=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},$=Array.isArray,Ge=/(?:-?\.?\d|\.)+/gi,Vr=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Wt=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ce=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Gr=/[+-]=-?[.\d]+/,Yr=/[^,'"\[\]\s]+/gi,Gi=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,N,pt,Ye,or,ut={},Re={},qr,Wr=function(t){return(Re=Qt(t,ut))&&it},ar=function(t,r){return console.warn("Invalid property",t,"set to",r,"Missing plugin? gsap.registerPlugin()")},ce=function(t,r){return!r&&console.warn(t)},jr=function(t,r){return t&&(ut[t]=r)&&Re&&(Re[t]=r)||ut},le=function(){return 0},Yi={suppressEvents:!0,isStart:!0,kill:!1},Te={suppressEvents:!0,kill:!1},qi={suppressEvents:!0},ur={},Mt=[],qe={},Hr,nt={},Fe={},Er=30,ye=[],fr="",hr=function(t){var r=t[0],e,i;if(gt(r)||G(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(i=ye.length;i--&&!ye[i].targetTest(r););e=ye[i]}for(i=t.length;i--;)t[i]&&(t[i]._gsap||(t[i]._gsap=new gi(t[i],e)))||t.splice(i,1);return t},Bt=function(t){return t._gsap||hr(lt(t))[0]._gsap},Zr=function(t,r,e){return(e=t[r])&&G(e)?t[r]():nr(e)&&t.getAttribute&&t.getAttribute(r)||e},tt=function(t,r){return(t=t.split(",")).forEach(r)||t},Y=function(t){return Math.round(t*1e5)/1e5||0},j=function(t){return Math.round(t*1e7)/1e7||0},Ht=function(t,r){var e=r.charAt(0),i=parseFloat(r.substr(2));return t=parseFloat(t),e==="+"?t+i:e==="-"?t-i:e==="*"?t*i:t/i},Wi=function(t,r){for(var e=r.length,i=0;t.indexOf(r[i])<0&&++i<e;);return i<e},Pe=function(){var t=Mt.length,r=Mt.slice(0),e,i;for(qe={},Mt.length=0,e=0;e<t;e++)i=r[e],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},cr=function(t){return!!(t._initted||t._startAt||t.add)},Kr=function(t,r,e,i){Mt.length&&!Z&&Pe(),t.render(r,e,!!(Z&&r<0&&cr(t))),Mt.length&&!Z&&Pe()},$r=function(t){var r=parseFloat(t);return(r||r===0)&&(t+"").match(Yr).length<2?r:H(t)?t.trim():t},Qr=function(t){return t},ft=function(t,r){for(var e in r)e in t||(t[e]=r[e]);return t},ji=function(t){return function(r,e){for(var i in e)i in r||i==="duration"&&t||i==="ease"||(r[i]=e[i])}},Qt=function(t,r){for(var e in r)t[e]=r[e];return t},br=function h(t,r){for(var e in r)e!=="__proto__"&&e!=="constructor"&&e!=="prototype"&&(t[e]=gt(r[e])?h(t[e]||(t[e]={}),r[e]):r[e]);return t},Se=function(t,r){var e={},i;for(i in t)i in r||(e[i]=t[i]);return e},ae=function(t){var r=t.parent||N,e=t.keyframes?ji($(t.keyframes)):ft;if(J(t.inherit))for(;r;)e(t,r.vars.defaults),r=r.parent||r._dp;return t},Hi=function(t,r){for(var e=t.length,i=e===r.length;i&&e--&&t[e]===r[e];);return e<0},Jr=function(t,r,e,i,n){var s=t[i],o;if(n)for(o=r[n];s&&s[n]>o;)s=s._prev;return s?(r._next=s._next,s._next=r):(r._next=t[e],t[e]=r),r._next?r._next._prev=r:t[i]=r,r._prev=s,r.parent=r._dp=t,r},Ue=function(t,r,e,i){e===void 0&&(e="_first"),i===void 0&&(i="_last");var n=r._prev,s=r._next;n?n._next=s:t[e]===r&&(t[e]=s),s?s._prev=n:t[i]===r&&(t[i]=n),r._next=r._prev=r.parent=null},Ot=function(t,r){t.parent&&(!r||t.parent.autoRemoveChildren)&&t.parent.remove&&t.parent.remove(t),t._act=0},Nt=function(t,r){if(t&&(!r||r._end>t._dur||r._start<0))for(var e=t;e;)e._dirty=1,e=e.parent;return t},Zi=function(t){for(var r=t.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return t},We=function(t,r,e,i){return t._startAt&&(Z?t._startAt.revert(Te):t.vars.immediateRender&&!t.vars.autoRevert||t._startAt.render(r,!0,i))},Ki=function h(t){return!t||t._ts&&h(t.parent)},Rr=function(t){return t._repeat?Jt(t._tTime,t=t.duration()+t._rDelay)*t:0},Jt=function(t,r){var e=Math.floor(t=j(t/r));return t&&e===t?e-1:e},we=function(t,r){return(t-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},De=function(t){return t._end=j(t._start+(t._tDur/Math.abs(t._ts||t._rts||z)||0))},Le=function(t,r){var e=t._dp;return e&&e.smoothChildTiming&&t._ts&&(t._start=j(e._time-(t._ts>0?r/t._ts:((t._dirty?t.totalDuration():t._tDur)-r)/-t._ts)),De(t),e._dirty||Nt(e,t)),t},ti=function(t,r){var e;if((r._time||!r._dur&&r._initted||r._start<t._time&&(r._dur||!r.add))&&(e=we(t.rawTime(),r),(!r._dur||ge(0,r.totalDuration(),e)-r._tTime>z)&&r.render(e,!0)),Nt(t,r)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(e=t;e._dp;)e.rawTime()>=0&&e.totalTime(e._tTime),e=e._dp;t._zTime=-z}},mt=function(t,r,e,i){return r.parent&&Ot(r),r._start=j((bt(e)?e:e||t!==N?ht(t,e,r):t._time)+r._delay),r._end=j(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),Jr(t,r,"_first","_last",t._sort?"_start":0),je(r)||(t._recent=r),i||ti(t,r),t._ts<0&&Le(t,t._tTime),t},ei=function(t,r){return(ut.ScrollTrigger||ar("scrollTrigger",r))&&ut.ScrollTrigger.create(r,t)},ri=function(t,r,e,i,n){if(_r(t,r,n),!t._initted)return 1;if(!e&&t._pt&&!Z&&(t._dur&&t.vars.lazy!==!1||!t._dur&&t.vars.lazy)&&Hr!==st.frame)return Mt.push(t),t._lazy=[n,i],1},$i=function h(t){var r=t.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||h(r))},je=function(t){var r=t.data;return r==="isFromStart"||r==="isStart"},Qi=function(t,r,e,i){var n=t.ratio,s=r<0||!r&&(!t._start&&$i(t)&&!(!t._initted&&je(t))||(t._ts<0||t._dp._ts<0)&&!je(t))?0:1,o=t._rDelay,a=0,u,f,l;if(o&&t._repeat&&(a=ge(0,t._tDur,r),f=Jt(a,o),t._yoyo&&f&1&&(s=1-s),f!==Jt(t._tTime,o)&&(n=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==n||Z||i||t._zTime===z||!r&&t._zTime){if(!t._initted&&ri(t,r,i,e,a))return;for(l=t._zTime,t._zTime=r||(e?z:0),e||(e=r&&!l),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=a,u=t._pt;u;)u.r(s,u.d),u=u._next;r<0&&We(t,r,e,!0),t._onUpdate&&!e&&ot(t,"onUpdate"),a&&t._repeat&&!e&&t.parent&&ot(t,"onRepeat"),(r>=t._tDur||r<0)&&t.ratio===s&&(s&&Ot(t,1),!e&&!Z&&(ot(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=r)},Ji=function(t,r,e){var i;if(e>r)for(i=t._first;i&&i._start<=e;){if(i.data==="isPause"&&i._start>r)return i;i=i._next}else for(i=t._last;i&&i._start>=e;){if(i.data==="isPause"&&i._start<r)return i;i=i._prev}},te=function(t,r,e,i){var n=t._repeat,s=j(r)||0,o=t._tTime/t._tDur;return o&&!i&&(t._time*=s/t._dur),t._dur=s,t._tDur=n?n<0?1e10:j(s*(n+1)+t._rDelay*n):s,o>0&&!i&&Le(t,t._tTime=t._tDur*o),t.parent&&De(t),e||Nt(t.parent,t),t},Pr=function(t){return t instanceof Q?Nt(t):te(t,t._dur)},tn={_start:0,endTime:le,totalDuration:le},ht=function h(t,r,e){var i=t.labels,n=t._recent||tn,s=t.duration()>=ct?n.endTime(!1):t._dur,o,a,u;return H(r)&&(isNaN(r)||r in i)?(a=r.charAt(0),u=r.substr(-1)==="%",o=r.indexOf("="),a==="<"||a===">"?(o>=0&&(r=r.replace(/=/,"")),(a==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(r.substr(1))||0)*(u?(o<0?n:e).totalDuration()/100:1)):o<0?(r in i||(i[r]=s),i[r]):(a=parseFloat(r.charAt(o-1)+r.substr(o+1)),u&&e&&(a=a/100*($(e)?e[0]:e).totalDuration()),o>1?h(t,r.substr(0,o-1),e)+a:s+a)):r==null?s:+r},ue=function(t,r,e){var i=bt(r[1]),n=(i?2:1)+(t<2?0:1),s=r[n],o,a;if(i&&(s.duration=r[1]),s.parent=e,t){for(o=s,a=e;a&&!("immediateRender"in o);)o=a.vars.defaults||{},a=J(a.vars.inherit)&&a.parent;s.immediateRender=J(o.immediateRender),t<2?s.runBackwards=1:s.startAt=r[n-1]}return new W(r[0],s,r[n+1])},Dt=function(t,r){return t||t===0?r(t):r},ge=function(t,r,e){return e<t?t:e>r?r:e},K=function(t,r){return!H(t)||!(r=Gi.exec(t))?"":r[1]},en=function(t,r,e){return Dt(e,function(i){return ge(t,r,i)})},He=[].slice,ii=function(t,r){return t&&gt(t)&&"length"in t&&(!r&&!t.length||t.length-1 in t&&gt(t[0]))&&!t.nodeType&&t!==pt},rn=function(t,r,e){return e===void 0&&(e=[]),t.forEach(function(i){var n;return H(i)&&!r||ii(i,1)?(n=e).push.apply(n,lt(i)):e.push(i)})||e},lt=function(t,r,e){return B&&!r&&B.selector?B.selector(t):H(t)&&!e&&(Ye||!ee())?He.call((r||or).querySelectorAll(t),0):$(t)?rn(t,e):ii(t)?He.call(t,0):t?[t]:[]},Ze=function(t){return t=lt(t)[0]||ce("Invalid scope")||{},function(r){var e=t.current||t.nativeElement||t;return lt(r,e.querySelectorAll?e:e===t?ce("Invalid scope")||or.createElement("div"):t)}},ni=function(t){return t.sort(function(){return .5-Math.random()})},si=function(t){if(G(t))return t;var r=gt(t)?t:{each:t},e=Xt(r.ease),i=r.from||0,n=parseFloat(r.base)||0,s={},o=i>0&&i<1,a=isNaN(i)||o,u=r.axis,f=i,l=i;return H(i)?f=l={center:.5,edges:.5,end:1}[i]||0:!o&&a&&(f=i[0],l=i[1]),function(_,d,m){var c=(m||r).length,p=s[c],g,v,T,y,x,b,E,R,P;if(!p){if(P=r.grid==="auto"?0:(r.grid||[1,ct])[1],!P){for(E=-ct;E<(E=m[P++].getBoundingClientRect().left)&&P<c;);P<c&&P--}for(p=s[c]=[],g=a?Math.min(P,c)*f-.5:i%P,v=P===ct?0:a?c*l/P-.5:i/P|0,E=0,R=ct,b=0;b<c;b++)T=b%P-g,y=v-(b/P|0),p[b]=x=u?Math.abs(u==="y"?y:T):Nr(T*T+y*y),x>E&&(E=x),x<R&&(R=x);i==="random"&&ni(p),p.max=E-R,p.min=R,p.v=c=(parseFloat(r.amount)||parseFloat(r.each)*(P>c?c-1:u?u==="y"?c/P:P:Math.max(P,c/P))||0)*(i==="edges"?-1:1),p.b=c<0?n-c:n,p.u=K(r.amount||r.each)||0,e=e&&c<0?pi(e):e}return c=(p[_]-p.min)/p.max||0,j(p.b+(e?e(c):c)*p.v)+p.u}},Ke=function(t){var r=Math.pow(10,((t+"").split(".")[1]||"").length);return function(e){var i=j(Math.round(parseFloat(e)/t)*t*r);return(i-i%1)/r+(bt(e)?0:K(e))}},oi=function(t,r){var e=$(t),i,n;return!e&&gt(t)&&(i=e=t.radius||ct,t.values?(t=lt(t.values),(n=!bt(t[0]))&&(i*=i)):t=Ke(t.increment)),Dt(r,e?G(t)?function(s){return n=t(s),Math.abs(n-s)<=i?n:s}:function(s){for(var o=parseFloat(n?s.x:s),a=parseFloat(n?s.y:0),u=ct,f=0,l=t.length,_,d;l--;)n?(_=t[l].x-o,d=t[l].y-a,_=_*_+d*d):_=Math.abs(t[l]-o),_<u&&(u=_,f=l);return f=!i||u<=i?t[f]:s,n||f===s||bt(s)?f:f+K(s)}:Ke(t))},ai=function(t,r,e,i){return Dt($(t)?!r:e===!0?!!(e=0):!i,function(){return $(t)?t[~~(Math.random()*t.length)]:(e=e||1e-5)&&(i=e<1?Math.pow(10,(e+"").length-2):1)&&Math.floor(Math.round((t-e/2+Math.random()*(r-t+e*.99))/e)*e*i)/i})},nn=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return function(i){return r.reduce(function(n,s){return s(n)},i)}},sn=function(t,r){return function(e){return t(parseFloat(e))+(r||K(e))}},on=function(t,r,e){return fi(t,r,0,1,e)},ui=function(t,r,e){return Dt(e,function(i){return t[~~r(i)]})},an=function h(t,r,e){var i=r-t;return $(t)?ui(t,h(0,t.length),r):Dt(e,function(n){return(i+(n-t)%i)%i+t})},un=function h(t,r,e){var i=r-t,n=i*2;return $(t)?ui(t,h(0,t.length-1),r):Dt(e,function(s){return s=(n+(s-t)%n)%n||0,t+(s>i?n-s:s)})},_e=function(t){for(var r=0,e="",i,n,s,o;~(i=t.indexOf("random(",r));)s=t.indexOf(")",i),o=t.charAt(i+7)==="[",n=t.substr(i+7,s-i-7).match(o?Yr:Ge),e+=t.substr(r,i-r)+ai(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),r=s+1;return e+t.substr(r,t.length-r)},fi=function(t,r,e,i,n){var s=r-t,o=i-e;return Dt(n,function(a){return e+((a-t)/s*o||0)})},fn=function h(t,r,e,i){var n=isNaN(t+r)?0:function(d){return(1-d)*t+d*r};if(!n){var s=H(t),o={},a,u,f,l,_;if(e===!0&&(i=1)&&(e=null),s)t={p:t},r={p:r};else if($(t)&&!$(r)){for(f=[],l=t.length,_=l-2,u=1;u<l;u++)f.push(h(t[u-1],t[u]));l--,n=function(m){m*=l;var c=Math.min(_,~~m);return f[c](m-c)},e=r}else i||(t=Qt($(t)?[]:{},t));if(!f){for(a in r)lr.call(o,t,a,"get",r[a]);n=function(m){return mr(m,o)||(s?t.p:t)}}}return Dt(e,n)},Sr=function(t,r,e){var i=t.labels,n=ct,s,o,a;for(s in i)o=i[s]-r,o<0==!!e&&o&&n>(o=Math.abs(o))&&(a=s,n=o);return a},ot=function(t,r,e){var i=t.vars,n=i[r],s=B,o=t._ctx,a,u,f;if(n)return a=i[r+"Params"],u=i.callbackScope||t,e&&Mt.length&&Pe(),o&&(B=o),f=a?n.apply(u,a):n.call(u),B=s,f},se=function(t){return Ot(t),t.scrollTrigger&&t.scrollTrigger.kill(!!Z),t.progress()<1&&ot(t,"onInterrupt"),t},jt,hi=[],ci=function(t){if(t)if(t=!t.name&&t.default||t,sr()||t.headless){var r=t.name,e=G(t),i=r&&!e&&t.init?function(){this._props=[]}:t,n={init:le,render:mr,add:lr,kill:Pn,modifier:Rn,rawVars:0},s={targetTest:0,get:0,getSetter:pr,aliases:{},register:0};if(ee(),t!==i){if(nt[r])return;ft(i,ft(Se(t,n),s)),Qt(i.prototype,Qt(n,Se(t,s))),nt[i.prop=r]=i,t.targetTest&&(ye.push(i),ur[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}jr(r,i),t.register&&t.register(it,i,et)}else hi.push(t)},I=255,oe={aqua:[0,I,I],lime:[0,I,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,I],navy:[0,0,128],white:[I,I,I],olive:[128,128,0],yellow:[I,I,0],orange:[I,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[I,0,0],pink:[I,192,203],cyan:[0,I,I],transparent:[I,I,I,0]},ke=function(t,r,e){return t+=t<0?1:t>1?-1:0,(t*6<1?r+(e-r)*t*6:t<.5?e:t*3<2?r+(e-r)*(2/3-t)*6:r)*I+.5|0},li=function(t,r,e){var i=t?bt(t)?[t>>16,t>>8&I,t&I]:0:oe.black,n,s,o,a,u,f,l,_,d,m;if(!i){if(t.substr(-1)===","&&(t=t.substr(0,t.length-1)),oe[t])i=oe[t];else if(t.charAt(0)==="#"){if(t.length<6&&(n=t.charAt(1),s=t.charAt(2),o=t.charAt(3),t="#"+n+n+s+s+o+o+(t.length===5?t.charAt(4)+t.charAt(4):"")),t.length===9)return i=parseInt(t.substr(1,6),16),[i>>16,i>>8&I,i&I,parseInt(t.substr(7),16)/255];t=parseInt(t.substr(1),16),i=[t>>16,t>>8&I,t&I]}else if(t.substr(0,3)==="hsl"){if(i=m=t.match(Ge),!r)a=+i[0]%360/360,u=+i[1]/100,f=+i[2]/100,s=f<=.5?f*(u+1):f+u-f*u,n=f*2-s,i.length>3&&(i[3]*=1),i[0]=ke(a+1/3,n,s),i[1]=ke(a,n,s),i[2]=ke(a-1/3,n,s);else if(~t.indexOf("="))return i=t.match(Vr),e&&i.length<4&&(i[3]=1),i}else i=t.match(Ge)||oe.transparent;i=i.map(Number)}return r&&!m&&(n=i[0]/I,s=i[1]/I,o=i[2]/I,l=Math.max(n,s,o),_=Math.min(n,s,o),f=(l+_)/2,l===_?a=u=0:(d=l-_,u=f>.5?d/(2-l-_):d/(l+_),a=l===n?(s-o)/d+(s<o?6:0):l===s?(o-n)/d+2:(n-s)/d+4,a*=60),i[0]=~~(a+.5),i[1]=~~(u*100+.5),i[2]=~~(f*100+.5)),e&&i.length<4&&(i[3]=1),i},_i=function(t){var r=[],e=[],i=-1;return t.split(At).forEach(function(n){var s=n.match(Wt)||[];r.push.apply(r,s),e.push(i+=s.length+1)}),r.c=e,r},wr=function(t,r,e){var i="",n=(t+i).match(At),s=r?"hsla(":"rgba(",o=0,a,u,f,l;if(!n)return t;if(n=n.map(function(_){return(_=li(_,r,1))&&s+(r?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),e&&(f=_i(t),a=e.c,a.join(i)!==f.c.join(i)))for(u=t.replace(At,"1").split(Wt),l=u.length-1;o<l;o++)i+=u[o]+(~a.indexOf(o)?n.shift()||s+"0,0,0,0)":(f.length?f:n.length?n:e).shift());if(!u)for(u=t.split(At),l=u.length-1;o<l;o++)i+=u[o]+n[o];return i+u[l]},At=function(){var h="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",t;for(t in oe)h+="|"+t+"\\b";return new RegExp(h+")","gi")}(),hn=/hsl[a]?\(/,di=function(t){var r=t.join(" "),e;if(At.lastIndex=0,At.test(r))return e=hn.test(r),t[1]=wr(t[1],e),t[0]=wr(t[0],e,_i(t[1])),!0},de,st=function(){var h=Date.now,t=500,r=33,e=h(),i=e,n=1e3/240,s=n,o=[],a,u,f,l,_,d,m=function c(p){var g=h()-i,v=p===!0,T,y,x,b;if((g>t||g<0)&&(e+=g-r),i+=g,x=i-e,T=x-s,(T>0||v)&&(b=++l.frame,_=x-l.time*1e3,l.time=x=x/1e3,s+=T+(T>=n?4:n-T),y=1),v||(a=u(c)),y)for(d=0;d<o.length;d++)o[d](x,_,b,p)};return l={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(p){return _/(1e3/(p||60))},wake:function(){qr&&(!Ye&&sr()&&(pt=Ye=window,or=pt.document||{},ut.gsap=it,(pt.gsapVersions||(pt.gsapVersions=[])).push(it.version),Wr(Re||pt.GreenSockGlobals||!pt.gsap&&pt||{}),hi.forEach(ci)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,a&&l.sleep(),u=f||function(p){return setTimeout(p,s-l.time*1e3+1|0)},de=1,m(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(a),de=0,u=le},lagSmoothing:function(p,g){t=p||1/0,r=Math.min(g||33,t)},fps:function(p){n=1e3/(p||240),s=l.time*1e3+n},add:function(p,g,v){var T=g?function(y,x,b,E){p(y,x,b,E),l.remove(T)}:p;return l.remove(p),o[v?"unshift":"push"](T),ee(),T},remove:function(p,g){~(g=o.indexOf(p))&&o.splice(g,1)&&d>=g&&d--},_listeners:o},l}(),ee=function(){return!de&&st.wake()},L={},cn=/^[\d.\-M][\d.\-,\s]/,ln=/["']/g,_n=function(t){for(var r={},e=t.substr(1,t.length-3).split(":"),i=e[0],n=1,s=e.length,o,a,u;n<s;n++)a=e[n],o=n!==s-1?a.lastIndexOf(","):a.length,u=a.substr(0,o),r[i]=isNaN(u)?u.replace(ln,"").trim():+u,i=a.substr(o+1).trim();return r},dn=function(t){var r=t.indexOf("(")+1,e=t.indexOf(")"),i=t.indexOf("(",r);return t.substring(r,~i&&i<e?t.indexOf(")",e+1):e)},pn=function(t){var r=(t+"").split("("),e=L[r[0]];return e&&r.length>1&&e.config?e.config.apply(null,~t.indexOf("{")?[_n(r[1])]:dn(t).split(",").map($r)):L._CE&&cn.test(t)?L._CE("",t):e},pi=function(t){return function(r){return 1-t(1-r)}},mi=function h(t,r){for(var e=t._first,i;e;)e instanceof Q?h(e,r):e.vars.yoyoEase&&(!e._yoyo||!e._repeat)&&e._yoyo!==r&&(e.timeline?h(e.timeline,r):(i=e._ease,e._ease=e._yEase,e._yEase=i,e._yoyo=r)),e=e._next},Xt=function(t,r){return t&&(G(t)?t:L[t]||pn(t))||r},Yt=function(t,r,e,i){e===void 0&&(e=function(a){return 1-r(1-a)}),i===void 0&&(i=function(a){return a<.5?r(a*2)/2:1-r((1-a)*2)/2});var n={easeIn:r,easeOut:e,easeInOut:i},s;return tt(t,function(o){L[o]=ut[o]=n,L[s=o.toLowerCase()]=e;for(var a in n)L[s+(a==="easeIn"?".in":a==="easeOut"?".out":".inOut")]=L[o+"."+a]=n[a]}),n},xi=function(t){return function(r){return r<.5?(1-t(1-r*2))/2:.5+t((r-.5)*2)/2}},Ie=function h(t,r,e){var i=r>=1?r:1,n=(e||(t?.3:.45))/(r<1?r:1),s=n/Ve*(Math.asin(1/i)||0),o=function(f){return f===1?1:i*Math.pow(2,-10*f)*Vi((f-s)*n)+1},a=t==="out"?o:t==="in"?function(u){return 1-o(1-u)}:xi(o);return n=Ve/n,a.config=function(u,f){return h(t,u,f)},a},ze=function h(t,r){r===void 0&&(r=1.70158);var e=function(s){return s?--s*s*((r+1)*s+r)+1:0},i=t==="out"?e:t==="in"?function(n){return 1-e(1-n)}:xi(e);return i.config=function(n){return h(t,n)},i};tt("Linear,Quad,Cubic,Quart,Quint,Strong",function(h,t){var r=t<5?t+1:t;Yt(h+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},function(e){return 1-Math.pow(1-e,r)},function(e){return e<.5?Math.pow(e*2,r)/2:1-Math.pow((1-e)*2,r)/2})});L.Linear.easeNone=L.none=L.Linear.easeIn;Yt("Elastic",Ie("in"),Ie("out"),Ie());(function(h,t){var r=1/t,e=2*r,i=2.5*r,n=function(o){return o<r?h*o*o:o<e?h*Math.pow(o-1.5/t,2)+.75:o<i?h*(o-=2.25/t)*o+.9375:h*Math.pow(o-2.625/t,2)+.984375};Yt("Bounce",function(s){return 1-n(1-s)},n)})(7.5625,2.75);Yt("Expo",function(h){return Math.pow(2,10*(h-1))*h+h*h*h*h*h*h*(1-h)});Yt("Circ",function(h){return-(Nr(1-h*h)-1)});Yt("Sine",function(h){return h===1?1:-Xi(h*Bi)+1});Yt("Back",ze("in"),ze("out"),ze());L.SteppedEase=L.steps=ut.SteppedEase={config:function(t,r){t===void 0&&(t=1);var e=1/t,i=t+(r?0:1),n=r?1:0,s=1-z;return function(o){return((i*ge(0,s,o)|0)+n)*e}}};$t.ease=L["quad.out"];tt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(h){return fr+=h+","+h+"Params,"});var gi=function(t,r){this.id=Ni++,t._gsap=this,this.target=t,this.harness=r,this.get=r?r.get:Zr,this.set=r?r.getSetter:pr},pe=function(){function h(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,te(this,+r.duration,1,1),this.data=r.data,B&&(this._ctx=B,B.data.push(this)),de||st.wake()}var t=h.prototype;return t.delay=function(e){return e||e===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,te(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,i){if(ee(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Le(this,e),!n._dp||n.parent||ti(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&mt(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===z||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Kr(this,e,i)),this},t.time=function(e,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Rr(this))%(this._dur+this._rDelay)||(e?this._dur:0),i):this._time},t.totalProgress=function(e,i){return arguments.length?this.totalTime(this.totalDuration()*e,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-e:e)+Rr(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,i){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,i):this._repeat?Jt(this._tTime,n)+1:1},t.timeScale=function(e,i){if(!arguments.length)return this._rts===-z?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?we(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-z?0:this._rts,this.totalTime(ge(-Math.abs(this._delay),this.totalDuration(),n),i!==!1),De(this),Zi(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ee(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==z&&(this._tTime-=z)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&mt(i,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(J(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var i=this.parent||this._dp;return i?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?we(i.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){e===void 0&&(e=qi);var i=Z;return Z=e,cr(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),this.data!=="nested"&&e.kill!==!1&&this.kill(),Z=i,this},t.globalTime=function(e){for(var i=this,n=arguments.length?e:i.rawTime();i;)n=i._start+n/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Pr(this)):this._repeat===-2?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var i=this._time;return this._rDelay=e,Pr(this),i?this.time(i):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,i){return this.totalTime(ht(this,e),J(i))},t.restart=function(e,i){return this.play().totalTime(e?-this._delay:0,J(i)),this._dur||(this._zTime=-z),this},t.play=function(e,i){return e!=null&&this.seek(e,i),this.reversed(!1).paused(!1)},t.reverse=function(e,i){return e!=null&&this.seek(e||this.totalDuration(),i),this.reversed(!0).paused(!1)},t.pause=function(e,i){return e!=null&&this.seek(e,i),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-z:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-z,this},t.isActive=function(){var e=this.parent||this._dp,i=this._start,n;return!!(!e||this._ts&&this._initted&&e.isActive()&&(n=e.rawTime(!0))>=i&&n<this.endTime(!0)-z)},t.eventCallback=function(e,i,n){var s=this.vars;return arguments.length>1?(i?(s[e]=i,n&&(s[e+"Params"]=n),e==="onUpdate"&&(this._onUpdate=i)):delete s[e],this):s[e]},t.then=function(e){var i=this;return new Promise(function(n){var s=G(e)?e:Qr,o=function(){var u=i.then;i.then=null,G(s)&&(s=s(i))&&(s.then||s===i)&&(i.then=u),n(s),i.then=u};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?o():i._prom=o})},t.kill=function(){se(this)},h}();ft(pe.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-z,_prom:0,_ps:!1,_rts:1});var Q=function(h){Br(t,h);function t(e,i){var n;return e===void 0&&(e={}),n=h.call(this,e)||this,n.labels={},n.smoothChildTiming=!!e.smoothChildTiming,n.autoRemoveChildren=!!e.autoRemoveChildren,n._sort=J(e.sortChildren),N&&mt(e.parent||N,yt(n),i),e.reversed&&n.reverse(),e.paused&&n.paused(!0),e.scrollTrigger&&ei(yt(n),e.scrollTrigger),n}var r=t.prototype;return r.to=function(i,n,s){return ue(0,arguments,this),this},r.from=function(i,n,s){return ue(1,arguments,this),this},r.fromTo=function(i,n,s,o){return ue(2,arguments,this),this},r.set=function(i,n,s){return n.duration=0,n.parent=this,ae(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new W(i,n,ht(this,s),1),this},r.call=function(i,n,s){return mt(this,W.delayedCall(0,i,n),s)},r.staggerTo=function(i,n,s,o,a,u,f){return s.duration=n,s.stagger=s.stagger||o,s.onComplete=u,s.onCompleteParams=f,s.parent=this,new W(i,s,ht(this,a)),this},r.staggerFrom=function(i,n,s,o,a,u,f){return s.runBackwards=1,ae(s).immediateRender=J(s.immediateRender),this.staggerTo(i,n,s,o,a,u,f)},r.staggerFromTo=function(i,n,s,o,a,u,f,l){return o.startAt=s,ae(o).immediateRender=J(o.immediateRender),this.staggerTo(i,n,o,a,u,f,l)},r.render=function(i,n,s){var o=this._time,a=this._dirty?this.totalDuration():this._tDur,u=this._dur,f=i<=0?0:j(i),l=this._zTime<0!=i<0&&(this._initted||!u),_,d,m,c,p,g,v,T,y,x,b,E;if(this!==N&&f>a&&i>=0&&(f=a),f!==this._tTime||s||l){if(o!==this._time&&u&&(f+=this._time-o,i+=this._time-o),_=f,y=this._start,T=this._ts,g=!T,l&&(u||(o=this._zTime),(i||!n)&&(this._zTime=i)),this._repeat){if(b=this._yoyo,p=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(p*100+i,n,s);if(_=j(f%p),f===a?(c=this._repeat,_=u):(x=j(f/p),c=~~x,c&&c===x&&(_=u,c--),_>u&&(_=u)),x=Jt(this._tTime,p),!o&&this._tTime&&x!==c&&this._tTime-x*p-this._dur<=0&&(x=c),b&&c&1&&(_=u-_,E=1),c!==x&&!this._lock){var R=b&&x&1,P=R===(b&&c&1);if(c<x&&(R=!R),o=R?0:f%u?u:f,this._lock=1,this.render(o||(E?0:j(c*p)),n,!u)._lock=0,this._tTime=f,!n&&this.parent&&ot(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),o&&o!==this._time||g!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,a=this._tDur,P&&(this._lock=2,o=R?u:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!g)return this;mi(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(v=Ji(this,j(o),j(_)),v&&(f-=_-(_=v._start))),this._tTime=f,this._time=_,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,o=0),!o&&f&&!n&&!x&&(ot(this,"onStart"),this._tTime!==f))return this;if(_>=o&&i>=0)for(d=this._first;d;){if(m=d._next,(d._act||_>=d._start)&&d._ts&&v!==d){if(d.parent!==this)return this.render(i,n,s);if(d.render(d._ts>0?(_-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(_-d._start)*d._ts,n,s),_!==this._time||!this._ts&&!g){v=0,m&&(f+=this._zTime=-z);break}}d=m}else{d=this._last;for(var w=i<0?i:_;d;){if(m=d._prev,(d._act||w<=d._end)&&d._ts&&v!==d){if(d.parent!==this)return this.render(i,n,s);if(d.render(d._ts>0?(w-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(w-d._start)*d._ts,n,s||Z&&cr(d)),_!==this._time||!this._ts&&!g){v=0,m&&(f+=this._zTime=w?-z:z);break}}d=m}}if(v&&!n&&(this.pause(),v.render(_>=o?0:-z)._zTime=_>=o?1:-1,this._ts))return this._start=y,De(this),this.render(i,n,s);this._onUpdate&&!n&&ot(this,"onUpdate",!0),(f===a&&this._tTime>=this.totalDuration()||!f&&o)&&(y===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(f===a&&this._ts>0||!f&&this._ts<0)&&Ot(this,1),!n&&!(i<0&&!o)&&(f||o||!a)&&(ot(this,f===a&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<a&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(i,n){var s=this;if(bt(n)||(n=ht(this,n,i)),!(i instanceof pe)){if($(i))return i.forEach(function(o){return s.add(o,n)}),this;if(H(i))return this.addLabel(i,n);if(G(i))i=W.delayedCall(0,i);else return this}return this!==i?mt(this,i,n):this},r.getChildren=function(i,n,s,o){i===void 0&&(i=!0),n===void 0&&(n=!0),s===void 0&&(s=!0),o===void 0&&(o=-ct);for(var a=[],u=this._first;u;)u._start>=o&&(u instanceof W?n&&a.push(u):(s&&a.push(u),i&&a.push.apply(a,u.getChildren(!0,n,s)))),u=u._next;return a},r.getById=function(i){for(var n=this.getChildren(1,1,1),s=n.length;s--;)if(n[s].vars.id===i)return n[s]},r.remove=function(i){return H(i)?this.removeLabel(i):G(i)?this.killTweensOf(i):(i.parent===this&&Ue(this,i),i===this._recent&&(this._recent=this._last),Nt(this))},r.totalTime=function(i,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=j(st.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),h.prototype.totalTime.call(this,i,n),this._forcing=0,this):this._tTime},r.addLabel=function(i,n){return this.labels[i]=ht(this,n),this},r.removeLabel=function(i){return delete this.labels[i],this},r.addPause=function(i,n,s){var o=W.delayedCall(0,n||le,s);return o.data="isPause",this._hasPause=1,mt(this,o,ht(this,i))},r.removePause=function(i){var n=this._first;for(i=ht(this,i);n;)n._start===i&&n.data==="isPause"&&Ot(n),n=n._next},r.killTweensOf=function(i,n,s){for(var o=this.getTweensOf(i,s),a=o.length;a--;)Pt!==o[a]&&o[a].kill(i,n);return this},r.getTweensOf=function(i,n){for(var s=[],o=lt(i),a=this._first,u=bt(n),f;a;)a instanceof W?Wi(a._targets,o)&&(u?(!Pt||a._initted&&a._ts)&&a.globalTime(0)<=n&&a.globalTime(a.totalDuration())>n:!n||a.isActive())&&s.push(a):(f=a.getTweensOf(o,n)).length&&s.push.apply(s,f),a=a._next;return s},r.tweenTo=function(i,n){n=n||{};var s=this,o=ht(s,i),a=n,u=a.startAt,f=a.onStart,l=a.onStartParams,_=a.immediateRender,d,m=W.to(s,ft({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:n.duration||Math.abs((o-(u&&"time"in u?u.time:s._time))/s.timeScale())||z,onStart:function(){if(s.pause(),!d){var p=n.duration||Math.abs((o-(u&&"time"in u?u.time:s._time))/s.timeScale());m._dur!==p&&te(m,p,0,1).render(m._time,!0,!0),d=1}f&&f.apply(m,l||[])}},n));return _?m.render(0):m},r.tweenFromTo=function(i,n,s){return this.tweenTo(n,ft({startAt:{time:ht(this,i)}},s))},r.recent=function(){return this._recent},r.nextLabel=function(i){return i===void 0&&(i=this._time),Sr(this,ht(this,i))},r.previousLabel=function(i){return i===void 0&&(i=this._time),Sr(this,ht(this,i),1)},r.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+z)},r.shiftChildren=function(i,n,s){s===void 0&&(s=0);for(var o=this._first,a=this.labels,u;o;)o._start>=s&&(o._start+=i,o._end+=i),o=o._next;if(n)for(u in a)a[u]>=s&&(a[u]+=i);return Nt(this)},r.invalidate=function(i){var n=this._first;for(this._lock=0;n;)n.invalidate(i),n=n._next;return h.prototype.invalidate.call(this,i)},r.clear=function(i){i===void 0&&(i=!0);for(var n=this._first,s;n;)s=n._next,this.remove(n),n=s;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Nt(this)},r.totalDuration=function(i){var n=0,s=this,o=s._last,a=ct,u,f,l;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-i:i));if(s._dirty){for(l=s.parent;o;)u=o._prev,o._dirty&&o.totalDuration(),f=o._start,f>a&&s._sort&&o._ts&&!s._lock?(s._lock=1,mt(s,o,f-o._delay,1)._lock=0):a=f,f<0&&o._ts&&(n-=f,(!l&&!s._dp||l&&l.smoothChildTiming)&&(s._start+=f/s._ts,s._time-=f,s._tTime-=f),s.shiftChildren(-f,!1,-1/0),a=0),o._end>n&&o._ts&&(n=o._end),o=u;te(s,s===N&&s._time>n?s._time:n,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(i){if(N._ts&&(Kr(N,we(i,N)),Hr=st.frame),st.frame>=Er){Er+=at.autoSleep||120;var n=N._first;if((!n||!n._ts)&&at.autoSleep&&st._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||st.sleep()}}},t}(pe);ft(Q.prototype,{_lock:0,_hasPause:0,_forcing:0});var mn=function(t,r,e,i,n,s,o){var a=new et(this._pt,t,r,0,1,Ri,null,n),u=0,f=0,l,_,d,m,c,p,g,v;for(a.b=e,a.e=i,e+="",i+="",(g=~i.indexOf("random("))&&(i=_e(i)),s&&(v=[e,i],s(v,t,r),e=v[0],i=v[1]),_=e.match(Ce)||[];l=Ce.exec(i);)m=l[0],c=i.substring(u,l.index),d?d=(d+1)%5:c.substr(-5)==="rgba("&&(d=1),m!==_[f++]&&(p=parseFloat(_[f-1])||0,a._pt={_next:a._pt,p:c||f===1?c:",",s:p,c:m.charAt(1)==="="?Ht(p,m)-p:parseFloat(m)-p,m:d&&d<4?Math.round:0},u=Ce.lastIndex);return a.c=u<i.length?i.substring(u,i.length):"",a.fp=o,(Gr.test(i)||g)&&(a.e=0),this._pt=a,a},lr=function(t,r,e,i,n,s,o,a,u,f){G(i)&&(i=i(n||0,t,s));var l=t[r],_=e!=="get"?e:G(l)?u?t[r.indexOf("set")||!G(t["get"+r.substr(3)])?r:"get"+r.substr(3)](u):t[r]():l,d=G(l)?u?yn:Ei:dr,m;if(H(i)&&(~i.indexOf("random(")&&(i=_e(i)),i.charAt(1)==="="&&(m=Ht(_,i)+(K(_)||0),(m||m===0)&&(i=m))),!f||_!==i||$e)return!isNaN(_*i)&&i!==""?(m=new et(this._pt,t,r,+_||0,i-(_||0),typeof l=="boolean"?bn:bi,0,d),u&&(m.fp=u),o&&m.modifier(o,this,t),this._pt=m):(!l&&!(r in t)&&ar(r,i),mn.call(this,t,r,_,i,d,a||at.stringFilter,u))},xn=function(t,r,e,i,n){if(G(t)&&(t=fe(t,n,r,e,i)),!gt(t)||t.style&&t.nodeType||$(t)||Xr(t))return H(t)?fe(t,n,r,e,i):t;var s={},o;for(o in t)s[o]=fe(t[o],n,r,e,i);return s},vi=function(t,r,e,i,n,s){var o,a,u,f;if(nt[t]&&(o=new nt[t]).init(n,o.rawVars?r[t]:xn(r[t],i,n,s,e),e,i,s)!==!1&&(e._pt=a=new et(e._pt,n,t,0,1,o.render,o,0,o.priority),e!==jt))for(u=e._ptLookup[e._targets.indexOf(n)],f=o._props.length;f--;)u[o._props[f]]=a;return o},Pt,$e,_r=function h(t,r,e){var i=t.vars,n=i.ease,s=i.startAt,o=i.immediateRender,a=i.lazy,u=i.onUpdate,f=i.runBackwards,l=i.yoyoEase,_=i.keyframes,d=i.autoRevert,m=t._dur,c=t._startAt,p=t._targets,g=t.parent,v=g&&g.data==="nested"?g.vars.targets:p,T=t._overwrite==="auto"&&!ir,y=t.timeline,x,b,E,R,P,w,U,A,O,F,C,M,k;if(y&&(!_||!n)&&(n="none"),t._ease=Xt(n,$t.ease),t._yEase=l?pi(Xt(l===!0?n:l,$t.ease)):0,l&&t._yoyo&&!t._repeat&&(l=t._yEase,t._yEase=t._ease,t._ease=l),t._from=!y&&!!i.runBackwards,!y||_&&!i.stagger){if(A=p[0]?Bt(p[0]).harness:0,M=A&&i[A.prop],x=Se(i,ur),c&&(c._zTime<0&&c.progress(1),r<0&&f&&o&&!d?c.render(-1,!0):c.revert(f&&m?Te:Yi),c._lazy=0),s){if(Ot(t._startAt=W.set(p,ft({data:"isStart",overwrite:!1,parent:g,immediateRender:!0,lazy:!c&&J(a),startAt:null,delay:0,onUpdate:u&&function(){return ot(t,"onUpdate")},stagger:0},s))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Z||!o&&!d)&&t._startAt.revert(Te),o&&m&&r<=0&&e<=0){r&&(t._zTime=r);return}}else if(f&&m&&!c){if(r&&(o=!1),E=ft({overwrite:!1,data:"isFromStart",lazy:o&&!c&&J(a),immediateRender:o,stagger:0,parent:g},x),M&&(E[A.prop]=M),Ot(t._startAt=W.set(p,E)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(Z?t._startAt.revert(Te):t._startAt.render(-1,!0)),t._zTime=r,!o)h(t._startAt,z,z);else if(!r)return}for(t._pt=t._ptCache=0,a=m&&J(a)||a&&!m,b=0;b<p.length;b++){if(P=p[b],U=P._gsap||hr(p)[b]._gsap,t._ptLookup[b]=F={},qe[U.id]&&Mt.length&&Pe(),C=v===p?b:v.indexOf(P),A&&(O=new A).init(P,M||x,t,C,v)!==!1&&(t._pt=R=new et(t._pt,P,O.name,0,1,O.render,O,0,O.priority),O._props.forEach(function(q){F[q]=R}),O.priority&&(w=1)),!A||M)for(E in x)nt[E]&&(O=vi(E,x,t,C,P,v))?O.priority&&(w=1):F[E]=R=lr.call(t,P,E,"get",x[E],C,v,0,i.stringFilter);t._op&&t._op[b]&&t.kill(P,t._op[b]),T&&t._pt&&(Pt=t,N.killTweensOf(P,F,t.globalTime(r)),k=!t.parent,Pt=0),t._pt&&a&&(qe[U.id]=1)}w&&Pi(t),t._onInit&&t._onInit(t)}t._onUpdate=u,t._initted=(!t._op||t._pt)&&!k,_&&r<=0&&y.render(ct,!0,!0)},gn=function(t,r,e,i,n,s,o,a){var u=(t._pt&&t._ptCache||(t._ptCache={}))[r],f,l,_,d;if(!u)for(u=t._ptCache[r]=[],_=t._ptLookup,d=t._targets.length;d--;){if(f=_[d][r],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==r&&f.fp!==r;)f=f._next;if(!f)return $e=1,t.vars[r]="+=0",_r(t,o),$e=0,a?ce(r+" not eligible for reset"):1;u.push(f)}for(d=u.length;d--;)l=u[d],f=l._pt||l,f.s=(i||i===0)&&!n?i:f.s+(i||0)+s*f.c,f.c=e-f.s,l.e&&(l.e=Y(e)+K(l.e)),l.b&&(l.b=f.s+K(l.b))},vn=function(t,r){var e=t[0]?Bt(t[0]).harness:0,i=e&&e.aliases,n,s,o,a;if(!i)return r;n=Qt({},r);for(s in i)if(s in n)for(a=i[s].split(","),o=a.length;o--;)n[a[o]]=n[s];return n},Tn=function(t,r,e,i){var n=r.ease||i||"power1.inOut",s,o;if($(r))o=e[t]||(e[t]=[]),r.forEach(function(a,u){return o.push({t:u/(r.length-1)*100,v:a,e:n})});else for(s in r)o=e[s]||(e[s]=[]),s==="ease"||o.push({t:parseFloat(t),v:r[s],e:n})},fe=function(t,r,e,i,n){return G(t)?t.call(r,e,i,n):H(t)&&~t.indexOf("random(")?_e(t):t},Ti=fr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",yi={};tt(Ti+",id,stagger,delay,duration,paused,scrollTrigger",function(h){return yi[h]=1});var W=function(h){Br(t,h);function t(e,i,n,s){var o;typeof i=="number"&&(n.duration=i,i=n,n=null),o=h.call(this,s?i:ae(i))||this;var a=o.vars,u=a.duration,f=a.delay,l=a.immediateRender,_=a.stagger,d=a.overwrite,m=a.keyframes,c=a.defaults,p=a.scrollTrigger,g=a.yoyoEase,v=i.parent||N,T=($(e)||Xr(e)?bt(e[0]):"length"in i)?[e]:lt(e),y,x,b,E,R,P,w,U;if(o._targets=T.length?hr(T):ce("GSAP target "+e+" not found. https://gsap.com",!at.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=d,m||_||ve(u)||ve(f)){if(i=o.vars,y=o.timeline=new Q({data:"nested",defaults:c||{},targets:v&&v.data==="nested"?v.vars.targets:T}),y.kill(),y.parent=y._dp=yt(o),y._start=0,_||ve(u)||ve(f)){if(E=T.length,w=_&&si(_),gt(_))for(R in _)~Ti.indexOf(R)&&(U||(U={}),U[R]=_[R]);for(x=0;x<E;x++)b=Se(i,yi),b.stagger=0,g&&(b.yoyoEase=g),U&&Qt(b,U),P=T[x],b.duration=+fe(u,yt(o),x,P,T),b.delay=(+fe(f,yt(o),x,P,T)||0)-o._delay,!_&&E===1&&b.delay&&(o._delay=f=b.delay,o._start+=f,b.delay=0),y.to(P,b,w?w(x,P,T):0),y._ease=L.none;y.duration()?u=f=0:o.timeline=0}else if(m){ae(ft(y.vars.defaults,{ease:"none"})),y._ease=Xt(m.ease||i.ease||"none");var A=0,O,F,C;if($(m))m.forEach(function(M){return y.to(T,M,">")}),y.duration();else{b={};for(R in m)R==="ease"||R==="easeEach"||Tn(R,m[R],b,m.easeEach);for(R in b)for(O=b[R].sort(function(M,k){return M.t-k.t}),A=0,x=0;x<O.length;x++)F=O[x],C={ease:F.e,duration:(F.t-(x?O[x-1].t:0))/100*u},C[R]=F.v,y.to(T,C,A),A+=C.duration;y.duration()<u&&y.to({},{duration:u-y.duration()})}}u||o.duration(u=y.duration())}else o.timeline=0;return d===!0&&!ir&&(Pt=yt(o),N.killTweensOf(T),Pt=0),mt(v,yt(o),n),i.reversed&&o.reverse(),i.paused&&o.paused(!0),(l||!u&&!m&&o._start===j(v._time)&&J(l)&&Ki(yt(o))&&v.data!=="nested")&&(o._tTime=-z,o.render(Math.max(0,-f)||0)),p&&ei(yt(o),p),o}var r=t.prototype;return r.render=function(i,n,s){var o=this._time,a=this._tDur,u=this._dur,f=i<0,l=i>a-z&&!f?a:i<z?0:i,_,d,m,c,p,g,v,T,y;if(!u)Qi(this,i,n,s);else if(l!==this._tTime||!i||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(_=l,T=this.timeline,this._repeat){if(c=u+this._rDelay,this._repeat<-1&&f)return this.totalTime(c*100+i,n,s);if(_=j(l%c),l===a?(m=this._repeat,_=u):(p=j(l/c),m=~~p,m&&m===p?(_=u,m--):_>u&&(_=u)),g=this._yoyo&&m&1,g&&(y=this._yEase,_=u-_),p=Jt(this._tTime,c),_===o&&!s&&this._initted&&m===p)return this._tTime=l,this;m!==p&&(T&&this._yEase&&mi(T,g),this.vars.repeatRefresh&&!g&&!this._lock&&_!==c&&this._initted&&(this._lock=s=1,this.render(j(c*m),!0).invalidate()._lock=0))}if(!this._initted){if(ri(this,f?i:_,s,n,l))return this._tTime=0,this;if(o!==this._time&&!(s&&this.vars.repeatRefresh&&m!==p))return this;if(u!==this._dur)return this.render(i,n,s)}if(this._tTime=l,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=v=(y||this._ease)(_/u),this._from&&(this.ratio=v=1-v),!o&&l&&!n&&!p&&(ot(this,"onStart"),this._tTime!==l))return this;for(d=this._pt;d;)d.r(v,d.d),d=d._next;T&&T.render(i<0?i:T._dur*T._ease(_/this._dur),n,s)||this._startAt&&(this._zTime=i),this._onUpdate&&!n&&(f&&We(this,i,n,s),ot(this,"onUpdate")),this._repeat&&m!==p&&this.vars.onRepeat&&!n&&this.parent&&ot(this,"onRepeat"),(l===this._tDur||!l)&&this._tTime===l&&(f&&!this._onUpdate&&We(this,i,!0,!0),(i||!u)&&(l===this._tDur&&this._ts>0||!l&&this._ts<0)&&Ot(this,1),!n&&!(f&&!o)&&(l||o||g)&&(ot(this,l===a?"onComplete":"onReverseComplete",!0),this._prom&&!(l<a&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),h.prototype.invalidate.call(this,i)},r.resetTo=function(i,n,s,o,a){de||st.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||_r(this,u),f=this._ease(u/this._dur),gn(this,i,n,s,o,f,u,a)?this.resetTo(i,n,s,o,1):(Le(this,0),this.parent||Jr(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(i,n){if(n===void 0&&(n="all"),!i&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?se(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Z),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,n,Pt&&Pt.vars.overwrite!==!0)._first||se(this),this.parent&&s!==this.timeline.totalDuration()&&te(this,this._dur*this.timeline._tDur/s,0,1),this}var o=this._targets,a=i?lt(i):o,u=this._ptLookup,f=this._pt,l,_,d,m,c,p,g;if((!n||n==="all")&&Hi(o,a))return n==="all"&&(this._pt=0),se(this);for(l=this._op=this._op||[],n!=="all"&&(H(n)&&(c={},tt(n,function(v){return c[v]=1}),n=c),n=vn(o,n)),g=o.length;g--;)if(~a.indexOf(o[g])){_=u[g],n==="all"?(l[g]=n,m=_,d={}):(d=l[g]=l[g]||{},m=n);for(c in m)p=_&&_[c],p&&((!("kill"in p.d)||p.d.kill(c)===!0)&&Ue(this,p,"_pt"),delete _[c]),d!=="all"&&(d[c]=1)}return this._initted&&!this._pt&&f&&se(this),this},t.to=function(i,n){return new t(i,n,arguments[2])},t.from=function(i,n){return ue(1,arguments)},t.delayedCall=function(i,n,s,o){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:n,onReverseComplete:n,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:o})},t.fromTo=function(i,n,s){return ue(2,arguments)},t.set=function(i,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(i,n)},t.killTweensOf=function(i,n,s){return N.killTweensOf(i,n,s)},t}(pe);ft(W.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});tt("staggerTo,staggerFrom,staggerFromTo",function(h){W[h]=function(){var t=new Q,r=He.call(arguments,0);return r.splice(h==="staggerFromTo"?5:4,0,0),t[h].apply(t,r)}});var dr=function(t,r,e){return t[r]=e},Ei=function(t,r,e){return t[r](e)},yn=function(t,r,e,i){return t[r](i.fp,e)},En=function(t,r,e){return t.setAttribute(r,e)},pr=function(t,r){return G(t[r])?Ei:nr(t[r])&&t.setAttribute?En:dr},bi=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e6)/1e6,r)},bn=function(t,r){return r.set(r.t,r.p,!!(r.s+r.c*t),r)},Ri=function(t,r){var e=r._pt,i="";if(!t&&r.b)i=r.b;else if(t===1&&r.e)i=r.e;else{for(;e;)i=e.p+(e.m?e.m(e.s+e.c*t):Math.round((e.s+e.c*t)*1e4)/1e4)+i,e=e._next;i+=r.c}r.set(r.t,r.p,i,r)},mr=function(t,r){for(var e=r._pt;e;)e.r(t,e.d),e=e._next},Rn=function(t,r,e,i){for(var n=this._pt,s;n;)s=n._next,n.p===i&&n.modifier(t,r,e),n=s},Pn=function(t){for(var r=this._pt,e,i;r;)i=r._next,r.p===t&&!r.op||r.op===t?Ue(this,r,"_pt"):r.dep||(e=1),r=i;return!e},Sn=function(t,r,e,i){i.mSet(t,r,i.m.call(i.tween,e,i.mt),i)},Pi=function(t){for(var r=t._pt,e,i,n,s;r;){for(e=r._next,i=n;i&&i.pr>r.pr;)i=i._next;(r._prev=i?i._prev:s)?r._prev._next=r:n=r,(r._next=i)?i._prev=r:s=r,r=e}t._pt=n},et=function(){function h(r,e,i,n,s,o,a,u,f){this.t=e,this.s=n,this.c=s,this.p=i,this.r=o||bi,this.d=a||this,this.set=u||dr,this.pr=f||0,this._next=r,r&&(r._prev=this)}var t=h.prototype;return t.modifier=function(e,i,n){this.mSet=this.mSet||this.set,this.set=Sn,this.m=e,this.mt=n,this.tween=i},h}();tt(fr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(h){return ur[h]=1});ut.TweenMax=ut.TweenLite=W;ut.TimelineLite=ut.TimelineMax=Q;N=new Q({sortChildren:!1,defaults:$t,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});at.stringFilter=di;var Vt=[],Ee={},wn=[],Mr=0,Mn=0,Be=function(t){return(Ee[t]||wn).map(function(r){return r()})},Qe=function(){var t=Date.now(),r=[];t-Mr>2&&(Be("matchMediaInit"),Vt.forEach(function(e){var i=e.queries,n=e.conditions,s,o,a,u;for(o in i)s=pt.matchMedia(i[o]).matches,s&&(a=1),s!==n[o]&&(n[o]=s,u=1);u&&(e.revert(),a&&r.push(e))}),Be("matchMediaRevert"),r.forEach(function(e){return e.onMatch(e,function(i){return e.add(null,i)})}),Mr=t,Be("matchMedia"))},Si=function(){function h(r,e){this.selector=e&&Ze(e),this.data=[],this._r=[],this.isReverted=!1,this.id=Mn++,r&&this.add(r)}var t=h.prototype;return t.add=function(e,i,n){G(e)&&(n=i,i=e,e=G);var s=this,o=function(){var u=B,f=s.selector,l;return u&&u!==s&&u.data.push(s),n&&(s.selector=Ze(n)),B=s,l=i.apply(s,arguments),G(l)&&s._r.push(l),B=u,s.selector=f,s.isReverted=!1,l};return s.last=o,e===G?o(s,function(a){return s.add(null,a)}):e?s[e]=o:o},t.ignore=function(e){var i=B;B=null,e(this),B=i},t.getTweens=function(){var e=[];return this.data.forEach(function(i){return i instanceof h?e.push.apply(e,i.getTweens()):i instanceof W&&!(i.parent&&i.parent.data==="nested")&&e.push(i)}),e},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,i){var n=this;if(e?function(){for(var o=n.getTweens(),a=n.data.length,u;a--;)u=n.data[a],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(f){return o.splice(o.indexOf(f),1)}));for(o.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,l){return l.g-f.g||-1/0}).forEach(function(f){return f.t.revert(e)}),a=n.data.length;a--;)u=n.data[a],u instanceof Q?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof W)&&u.revert&&u.revert(e);n._r.forEach(function(f){return f(e,n)}),n.isReverted=!0}():this.data.forEach(function(o){return o.kill&&o.kill()}),this.clear(),i)for(var s=Vt.length;s--;)Vt[s].id===this.id&&Vt.splice(s,1)},t.revert=function(e){this.kill(e||{})},h}(),An=function(){function h(r){this.contexts=[],this.scope=r,B&&B.data.push(this)}var t=h.prototype;return t.add=function(e,i,n){gt(e)||(e={matches:e});var s=new Si(0,n||this.scope),o=s.conditions={},a,u,f;B&&!s.selector&&(s.selector=B.selector),this.contexts.push(s),i=s.add("onMatch",i),s.queries=e;for(u in e)u==="all"?f=1:(a=pt.matchMedia(e[u]),a&&(Vt.indexOf(s)<0&&Vt.push(s),(o[u]=a.matches)&&(f=1),a.addListener?a.addListener(Qe):a.addEventListener("change",Qe)));return f&&i(s,function(l){return s.add(null,l)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(i){return i.kill(e,!0)})},h}(),Me={registerPlugin:function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];r.forEach(function(i){return ci(i)})},timeline:function(t){return new Q(t)},getTweensOf:function(t,r){return N.getTweensOf(t,r)},getProperty:function(t,r,e,i){H(t)&&(t=lt(t)[0]);var n=Bt(t||{}).get,s=e?Qr:$r;return e==="native"&&(e=""),t&&(r?s((nt[r]&&nt[r].get||n)(t,r,e,i)):function(o,a,u){return s((nt[o]&&nt[o].get||n)(t,o,a,u))})},quickSetter:function(t,r,e){if(t=lt(t),t.length>1){var i=t.map(function(f){return it.quickSetter(f,r,e)}),n=i.length;return function(f){for(var l=n;l--;)i[l](f)}}t=t[0]||{};var s=nt[r],o=Bt(t),a=o.harness&&(o.harness.aliases||{})[r]||r,u=s?function(f){var l=new s;jt._pt=0,l.init(t,e?f+e:f,jt,0,[t]),l.render(1,l),jt._pt&&mr(1,jt)}:o.set(t,a);return s?u:function(f){return u(t,a,e?f+e:f,o,1)}},quickTo:function(t,r,e){var i,n=it.to(t,ft((i={},i[r]="+=0.1",i.paused=!0,i.stagger=0,i),e||{})),s=function(a,u,f){return n.resetTo(r,a,u,f)};return s.tween=n,s},isTweening:function(t){return N.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Xt(t.ease,$t.ease)),br($t,t||{})},config:function(t){return br(at,t||{})},registerEffect:function(t){var r=t.name,e=t.effect,i=t.plugins,n=t.defaults,s=t.extendTimeline;(i||"").split(",").forEach(function(o){return o&&!nt[o]&&!ut[o]&&ce(r+" effect requires "+o+" plugin.")}),Fe[r]=function(o,a,u){return e(lt(o),ft(a||{},n),u)},s&&(Q.prototype[r]=function(o,a,u){return this.add(Fe[r](o,gt(a)?a:(u=a)&&{},this),u)})},registerEase:function(t,r){L[t]=Xt(r)},parseEase:function(t,r){return arguments.length?Xt(t,r):L},getById:function(t){return N.getById(t)},exportRoot:function(t,r){t===void 0&&(t={});var e=new Q(t),i,n;for(e.smoothChildTiming=J(t.smoothChildTiming),N.remove(e),e._dp=0,e._time=e._tTime=N._time,i=N._first;i;)n=i._next,(r||!(!i._dur&&i instanceof W&&i.vars.onComplete===i._targets[0]))&&mt(e,i,i._start-i._delay),i=n;return mt(N,e,0),e},context:function(t,r){return t?new Si(t,r):B},matchMedia:function(t){return new An(t)},matchMediaRefresh:function(){return Vt.forEach(function(t){var r=t.conditions,e,i;for(i in r)r[i]&&(r[i]=!1,e=1);e&&t.revert()})||Qe()},addEventListener:function(t,r){var e=Ee[t]||(Ee[t]=[]);~e.indexOf(r)||e.push(r)},removeEventListener:function(t,r){var e=Ee[t],i=e&&e.indexOf(r);i>=0&&e.splice(i,1)},utils:{wrap:an,wrapYoyo:un,distribute:si,random:ai,snap:oi,normalize:on,getUnit:K,clamp:en,splitColor:li,toArray:lt,selector:Ze,mapRange:fi,pipe:nn,unitize:sn,interpolate:fn,shuffle:ni},install:Wr,effects:Fe,ticker:st,updateRoot:Q.updateRoot,plugins:nt,globalTimeline:N,core:{PropTween:et,globals:jr,Tween:W,Timeline:Q,Animation:pe,getCache:Bt,_removeLinkedListItem:Ue,reverting:function(){return Z},context:function(t){return t&&B&&(B.data.push(t),t._ctx=B),B},suppressOverwrites:function(t){return ir=t}}};tt("to,from,fromTo,delayedCall,set,killTweensOf",function(h){return Me[h]=W[h]});st.add(Q.updateRoot);jt=Me.to({},{duration:0});var On=function(t,r){for(var e=t._pt;e&&e.p!==r&&e.op!==r&&e.fp!==r;)e=e._next;return e},Un=function(t,r){var e=t._targets,i,n,s;for(i in r)for(n=e.length;n--;)s=t._ptLookup[n][i],s&&(s=s.d)&&(s._pt&&(s=On(s,i)),s&&s.modifier&&s.modifier(r[i],t,e[n],i))},Ne=function(t,r){return{name:t,headless:1,rawVars:1,init:function(i,n,s){s._onInit=function(o){var a,u;if(H(n)&&(a={},tt(n,function(f){return a[f]=1}),n=a),r){a={};for(u in n)a[u]=r(n[u]);n=a}Un(o,n)}}}},it=Me.registerPlugin({name:"attr",init:function(t,r,e,i,n){var s,o,a;this.tween=e;for(s in r)a=t.getAttribute(s)||"",o=this.add(t,"setAttribute",(a||0)+"",r[s],i,n,0,0,s),o.op=s,o.b=a,this._props.push(s)},render:function(t,r){for(var e=r._pt;e;)Z?e.set(e.t,e.p,e.b,e):e.r(t,e.d),e=e._next}},{name:"endArray",headless:1,init:function(t,r){for(var e=r.length;e--;)this.add(t,e,t[e]||0,r[e],0,0,0,0,0,1)}},Ne("roundProps",Ke),Ne("modifiers"),Ne("snap",oi))||Me;W.version=Q.version=it.version="3.13.0";qr=1;sr()&&ee();L.Power0;L.Power1;L.Power2;L.Power3;L.Power4;L.Linear;L.Quad;L.Cubic;L.Quart;L.Quint;L.Strong;L.Elastic;L.Back;L.SteppedEase;L.Bounce;L.Sine;L.Expo;L.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ar,St,Zt,xr,zt,Or,gr,Dn=function(){return typeof window<"u"},Rt={},It=180/Math.PI,Kt=Math.PI/180,qt=Math.atan2,Ur=1e8,vr=/([A-Z])/g,Ln=/(left|right|width|margin|padding|x)/i,Cn=/[\s,\(]\S/,xt={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Je=function(t,r){return r.set(r.t,r.p,Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},Fn=function(t,r){return r.set(r.t,r.p,t===1?r.e:Math.round((r.s+r.c*t)*1e4)/1e4+r.u,r)},kn=function(t,r){return r.set(r.t,r.p,t?Math.round((r.s+r.c*t)*1e4)/1e4+r.u:r.b,r)},In=function(t,r){var e=r.s+r.c*t;r.set(r.t,r.p,~~(e+(e<0?-.5:.5))+r.u,r)},wi=function(t,r){return r.set(r.t,r.p,t?r.e:r.b,r)},Mi=function(t,r){return r.set(r.t,r.p,t!==1?r.b:r.e,r)},zn=function(t,r,e){return t.style[r]=e},Bn=function(t,r,e){return t.style.setProperty(r,e)},Nn=function(t,r,e){return t._gsap[r]=e},Xn=function(t,r,e){return t._gsap.scaleX=t._gsap.scaleY=e},Vn=function(t,r,e,i,n){var s=t._gsap;s.scaleX=s.scaleY=e,s.renderTransform(n,s)},Gn=function(t,r,e,i,n){var s=t._gsap;s[r]=e,s.renderTransform(n,s)},X="transform",rt=X+"Origin",Yn=function h(t,r){var e=this,i=this.target,n=i.style,s=i._gsap;if(t in Rt&&n){if(this.tfm=this.tfm||{},t!=="transform")t=xt[t]||t,~t.indexOf(",")?t.split(",").forEach(function(o){return e.tfm[o]=Et(i,o)}):this.tfm[t]=s.x?s[t]:Et(i,t),t===rt&&(this.tfm.zOrigin=s.zOrigin);else return xt.transform.split(",").forEach(function(o){return h.call(e,o,r)});if(this.props.indexOf(X)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(rt,r,"")),t=X}(n||r)&&this.props.push(t,r,n[t])},Ai=function(t){t.translate&&(t.removeProperty("translate"),t.removeProperty("scale"),t.removeProperty("rotate"))},qn=function(){var t=this.props,r=this.target,e=r.style,i=r._gsap,n,s;for(n=0;n<t.length;n+=3)t[n+1]?t[n+1]===2?r[t[n]](t[n+2]):r[t[n]]=t[n+2]:t[n+2]?e[t[n]]=t[n+2]:e.removeProperty(t[n].substr(0,2)==="--"?t[n]:t[n].replace(vr,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)i[s]=this.tfm[s];i.svg&&(i.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),n=gr(),(!n||!n.isStart)&&!e[X]&&(Ai(e),i.zOrigin&&e[rt]&&(e[rt]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},Oi=function(t,r){var e={target:t,props:[],revert:qn,save:Yn};return t._gsap||it.core.getCache(t),r&&t.style&&t.nodeType&&r.split(",").forEach(function(i){return e.save(i)}),e},Ui,tr=function(t,r){var e=St.createElementNS?St.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):St.createElement(t);return e&&e.style?e:St.createElement(t)},_t=function h(t,r,e){var i=getComputedStyle(t);return i[r]||i.getPropertyValue(r.replace(vr,"-$1").toLowerCase())||i.getPropertyValue(r)||!e&&h(t,re(r)||r,1)||""},Dr="O,Moz,ms,Ms,Webkit".split(","),re=function(t,r,e){var i=r||zt,n=i.style,s=5;if(t in n&&!e)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(Dr[s]+t in n););return s<0?null:(s===3?"ms":s>=0?Dr[s]:"")+t},er=function(){Dn()&&window.document&&(Ar=window,St=Ar.document,Zt=St.documentElement,zt=tr("div")||{style:{}},tr("div"),X=re(X),rt=X+"Origin",zt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ui=!!re("perspective"),gr=it.core.reverting,xr=1)},Lr=function(t){var r=t.ownerSVGElement,e=tr("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=t.cloneNode(!0),n;i.style.display="block",e.appendChild(i),Zt.appendChild(e);try{n=i.getBBox()}catch{}return e.removeChild(i),Zt.removeChild(e),n},Cr=function(t,r){for(var e=r.length;e--;)if(t.hasAttribute(r[e]))return t.getAttribute(r[e])},Di=function(t){var r,e;try{r=t.getBBox()}catch{r=Lr(t),e=1}return r&&(r.width||r.height)||e||(r=Lr(t)),r&&!r.width&&!r.x&&!r.y?{x:+Cr(t,["x","cx","x1"])||0,y:+Cr(t,["y","cy","y1"])||0,width:0,height:0}:r},Li=function(t){return!!(t.getCTM&&(!t.parentNode||t.ownerSVGElement)&&Di(t))},Gt=function(t,r){if(r){var e=t.style,i;r in Rt&&r!==rt&&(r=X),e.removeProperty?(i=r.substr(0,2),(i==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),e.removeProperty(i==="--"?r:r.replace(vr,"-$1").toLowerCase())):e.removeAttribute(r)}},wt=function(t,r,e,i,n,s){var o=new et(t._pt,r,e,0,1,s?Mi:wi);return t._pt=o,o.b=i,o.e=n,t._props.push(e),o},Fr={deg:1,rad:1,turn:1},Wn={grid:1,flex:1},Ut=function h(t,r,e,i){var n=parseFloat(e)||0,s=(e+"").trim().substr((n+"").length)||"px",o=zt.style,a=Ln.test(r),u=t.tagName.toLowerCase()==="svg",f=(u?"client":"offset")+(a?"Width":"Height"),l=100,_=i==="px",d=i==="%",m,c,p,g;if(i===s||!n||Fr[i]||Fr[s])return n;if(s!=="px"&&!_&&(n=h(t,r,e,"px")),g=t.getCTM&&Li(t),(d||s==="%")&&(Rt[r]||~r.indexOf("adius")))return m=g?t.getBBox()[a?"width":"height"]:t[f],Y(d?n/m*l:n/100*m);if(o[a?"width":"height"]=l+(_?s:i),c=i!=="rem"&&~r.indexOf("adius")||i==="em"&&t.appendChild&&!u?t:t.parentNode,g&&(c=(t.ownerSVGElement||{}).parentNode),(!c||c===St||!c.appendChild)&&(c=St.body),p=c._gsap,p&&d&&p.width&&a&&p.time===st.time&&!p.uncache)return Y(n/p.width*l);if(d&&(r==="height"||r==="width")){var v=t.style[r];t.style[r]=l+i,m=t[f],v?t.style[r]=v:Gt(t,r)}else(d||s==="%")&&!Wn[_t(c,"display")]&&(o.position=_t(t,"position")),c===t&&(o.position="static"),c.appendChild(zt),m=zt[f],c.removeChild(zt),o.position="absolute";return a&&d&&(p=Bt(c),p.time=st.time,p.width=c[f]),Y(_?m*n/l:m&&n?l/m*n:0)},Et=function(t,r,e,i){var n;return xr||er(),r in xt&&r!=="transform"&&(r=xt[r],~r.indexOf(",")&&(r=r.split(",")[0])),Rt[r]&&r!=="transform"?(n=xe(t,i),n=r!=="transformOrigin"?n[r]:n.svg?n.origin:Oe(_t(t,rt))+" "+n.zOrigin+"px"):(n=t.style[r],(!n||n==="auto"||i||~(n+"").indexOf("calc("))&&(n=Ae[r]&&Ae[r](t,r,e)||_t(t,r)||Zr(t,r)||(r==="opacity"?1:0))),e&&!~(n+"").trim().indexOf(" ")?Ut(t,r,n,e)+e:n},jn=function(t,r,e,i){if(!e||e==="none"){var n=re(r,t,1),s=n&&_t(t,n,1);s&&s!==e?(r=n,e=s):r==="borderColor"&&(e=_t(t,"borderTopColor"))}var o=new et(this._pt,t.style,r,0,1,Ri),a=0,u=0,f,l,_,d,m,c,p,g,v,T,y,x;if(o.b=e,o.e=i,e+="",i+="",i.substring(0,6)==="var(--"&&(i=_t(t,i.substring(4,i.indexOf(")")))),i==="auto"&&(c=t.style[r],t.style[r]=i,i=_t(t,r)||i,c?t.style[r]=c:Gt(t,r)),f=[e,i],di(f),e=f[0],i=f[1],_=e.match(Wt)||[],x=i.match(Wt)||[],x.length){for(;l=Wt.exec(i);)p=l[0],v=i.substring(a,l.index),m?m=(m+1)%5:(v.substr(-5)==="rgba("||v.substr(-5)==="hsla(")&&(m=1),p!==(c=_[u++]||"")&&(d=parseFloat(c)||0,y=c.substr((d+"").length),p.charAt(1)==="="&&(p=Ht(d,p)+y),g=parseFloat(p),T=p.substr((g+"").length),a=Wt.lastIndex-T.length,T||(T=T||at.units[r]||y,a===i.length&&(i+=T,o.e+=T)),y!==T&&(d=Ut(t,r,c,T)||0),o._pt={_next:o._pt,p:v||u===1?v:",",s:d,c:g-d,m:m&&m<4||r==="zIndex"?Math.round:0});o.c=a<i.length?i.substring(a,i.length):""}else o.r=r==="display"&&i==="none"?Mi:wi;return Gr.test(i)&&(o.e=0),this._pt=o,o},kr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Hn=function(t){var r=t.split(" "),e=r[0],i=r[1]||"50%";return(e==="top"||e==="bottom"||i==="left"||i==="right")&&(t=e,e=i,i=t),r[0]=kr[e]||e,r[1]=kr[i]||i,r.join(" ")},Zn=function(t,r){if(r.tween&&r.tween._time===r.tween._dur){var e=r.t,i=e.style,n=r.u,s=e._gsap,o,a,u;if(n==="all"||n===!0)i.cssText="",a=1;else for(n=n.split(","),u=n.length;--u>-1;)o=n[u],Rt[o]&&(a=1,o=o==="transformOrigin"?rt:X),Gt(e,o);a&&(Gt(e,X),s&&(s.svg&&e.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",xe(e,1),s.uncache=1,Ai(i)))}},Ae={clearProps:function(t,r,e,i,n){if(n.data!=="isFromStart"){var s=t._pt=new et(t._pt,r,e,0,0,Zn);return s.u=i,s.pr=-10,s.tween=n,t._props.push(e),1}}},me=[1,0,0,1,0,0],Ci={},Fi=function(t){return t==="matrix(1, 0, 0, 1, 0, 0)"||t==="none"||!t},Ir=function(t){var r=_t(t,X);return Fi(r)?me:r.substr(7).match(Vr).map(Y)},Tr=function(t,r){var e=t._gsap||Bt(t),i=t.style,n=Ir(t),s,o,a,u;return e.svg&&t.getAttribute("transform")?(a=t.transform.baseVal.consolidate().matrix,n=[a.a,a.b,a.c,a.d,a.e,a.f],n.join(",")==="1,0,0,1,0,0"?me:n):(n===me&&!t.offsetParent&&t!==Zt&&!e.svg&&(a=i.display,i.display="block",s=t.parentNode,(!s||!t.offsetParent&&!t.getBoundingClientRect().width)&&(u=1,o=t.nextElementSibling,Zt.appendChild(t)),n=Ir(t),a?i.display=a:Gt(t,"display"),u&&(o?s.insertBefore(t,o):s?s.appendChild(t):Zt.removeChild(t))),r&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},rr=function(t,r,e,i,n,s){var o=t._gsap,a=n||Tr(t,!0),u=o.xOrigin||0,f=o.yOrigin||0,l=o.xOffset||0,_=o.yOffset||0,d=a[0],m=a[1],c=a[2],p=a[3],g=a[4],v=a[5],T=r.split(" "),y=parseFloat(T[0])||0,x=parseFloat(T[1])||0,b,E,R,P;e?a!==me&&(E=d*p-m*c)&&(R=y*(p/E)+x*(-c/E)+(c*v-p*g)/E,P=y*(-m/E)+x*(d/E)-(d*v-m*g)/E,y=R,x=P):(b=Di(t),y=b.x+(~T[0].indexOf("%")?y/100*b.width:y),x=b.y+(~(T[1]||T[0]).indexOf("%")?x/100*b.height:x)),i||i!==!1&&o.smooth?(g=y-u,v=x-f,o.xOffset=l+(g*d+v*c)-g,o.yOffset=_+(g*m+v*p)-v):o.xOffset=o.yOffset=0,o.xOrigin=y,o.yOrigin=x,o.smooth=!!i,o.origin=r,o.originIsAbsolute=!!e,t.style[rt]="0px 0px",s&&(wt(s,o,"xOrigin",u,y),wt(s,o,"yOrigin",f,x),wt(s,o,"xOffset",l,o.xOffset),wt(s,o,"yOffset",_,o.yOffset)),t.setAttribute("data-svg-origin",y+" "+x)},xe=function(t,r){var e=t._gsap||new gi(t);if("x"in e&&!r&&!e.uncache)return e;var i=t.style,n=e.scaleX<0,s="px",o="deg",a=getComputedStyle(t),u=_t(t,rt)||"0",f,l,_,d,m,c,p,g,v,T,y,x,b,E,R,P,w,U,A,O,F,C,M,k,q,vt,dt,ie,Lt,yr,Tt,Ct;return f=l=_=c=p=g=v=T=y=0,d=m=1,e.svg=!!(t.getCTM&&Li(t)),a.translate&&((a.translate!=="none"||a.scale!=="none"||a.rotate!=="none")&&(i[X]=(a.translate!=="none"?"translate3d("+(a.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(a.rotate!=="none"?"rotate("+a.rotate+") ":"")+(a.scale!=="none"?"scale("+a.scale.split(" ").join(",")+") ":"")+(a[X]!=="none"?a[X]:"")),i.scale=i.rotate=i.translate="none"),E=Tr(t,e.svg),e.svg&&(e.uncache?(q=t.getBBox(),u=e.xOrigin-q.x+"px "+(e.yOrigin-q.y)+"px",k=""):k=!r&&t.getAttribute("data-svg-origin"),rr(t,k||u,!!k||e.originIsAbsolute,e.smooth!==!1,E)),x=e.xOrigin||0,b=e.yOrigin||0,E!==me&&(U=E[0],A=E[1],O=E[2],F=E[3],f=C=E[4],l=M=E[5],E.length===6?(d=Math.sqrt(U*U+A*A),m=Math.sqrt(F*F+O*O),c=U||A?qt(A,U)*It:0,v=O||F?qt(O,F)*It+c:0,v&&(m*=Math.abs(Math.cos(v*Kt))),e.svg&&(f-=x-(x*U+b*O),l-=b-(x*A+b*F))):(Ct=E[6],yr=E[7],dt=E[8],ie=E[9],Lt=E[10],Tt=E[11],f=E[12],l=E[13],_=E[14],R=qt(Ct,Lt),p=R*It,R&&(P=Math.cos(-R),w=Math.sin(-R),k=C*P+dt*w,q=M*P+ie*w,vt=Ct*P+Lt*w,dt=C*-w+dt*P,ie=M*-w+ie*P,Lt=Ct*-w+Lt*P,Tt=yr*-w+Tt*P,C=k,M=q,Ct=vt),R=qt(-O,Lt),g=R*It,R&&(P=Math.cos(-R),w=Math.sin(-R),k=U*P-dt*w,q=A*P-ie*w,vt=O*P-Lt*w,Tt=F*w+Tt*P,U=k,A=q,O=vt),R=qt(A,U),c=R*It,R&&(P=Math.cos(R),w=Math.sin(R),k=U*P+A*w,q=C*P+M*w,A=A*P-U*w,M=M*P-C*w,U=k,C=q),p&&Math.abs(p)+Math.abs(c)>359.9&&(p=c=0,g=180-g),d=Y(Math.sqrt(U*U+A*A+O*O)),m=Y(Math.sqrt(M*M+Ct*Ct)),R=qt(C,M),v=Math.abs(R)>2e-4?R*It:0,y=Tt?1/(Tt<0?-Tt:Tt):0),e.svg&&(k=t.getAttribute("transform"),e.forceCSS=t.setAttribute("transform","")||!Fi(_t(t,X)),k&&t.setAttribute("transform",k))),Math.abs(v)>90&&Math.abs(v)<270&&(n?(d*=-1,v+=c<=0?180:-180,c+=c<=0?180:-180):(m*=-1,v+=v<=0?180:-180)),r=r||e.uncache,e.x=f-((e.xPercent=f&&(!r&&e.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-f)?-50:0)))?t.offsetWidth*e.xPercent/100:0)+s,e.y=l-((e.yPercent=l&&(!r&&e.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-l)?-50:0)))?t.offsetHeight*e.yPercent/100:0)+s,e.z=_+s,e.scaleX=Y(d),e.scaleY=Y(m),e.rotation=Y(c)+o,e.rotationX=Y(p)+o,e.rotationY=Y(g)+o,e.skewX=v+o,e.skewY=T+o,e.transformPerspective=y+s,(e.zOrigin=parseFloat(u.split(" ")[2])||!r&&e.zOrigin||0)&&(i[rt]=Oe(u)),e.xOffset=e.yOffset=0,e.force3D=at.force3D,e.renderTransform=e.svg?$n:Ui?ki:Kn,e.uncache=0,e},Oe=function(t){return(t=t.split(" "))[0]+" "+t[1]},Xe=function(t,r,e){var i=K(r);return Y(parseFloat(r)+parseFloat(Ut(t,"x",e+"px",i)))+i},Kn=function(t,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,ki(t,r)},Ft="0deg",ne="0px",kt=") ",ki=function(t,r){var e=r||this,i=e.xPercent,n=e.yPercent,s=e.x,o=e.y,a=e.z,u=e.rotation,f=e.rotationY,l=e.rotationX,_=e.skewX,d=e.skewY,m=e.scaleX,c=e.scaleY,p=e.transformPerspective,g=e.force3D,v=e.target,T=e.zOrigin,y="",x=g==="auto"&&t&&t!==1||g===!0;if(T&&(l!==Ft||f!==Ft)){var b=parseFloat(f)*Kt,E=Math.sin(b),R=Math.cos(b),P;b=parseFloat(l)*Kt,P=Math.cos(b),s=Xe(v,s,E*P*-T),o=Xe(v,o,-Math.sin(b)*-T),a=Xe(v,a,R*P*-T+T)}p!==ne&&(y+="perspective("+p+kt),(i||n)&&(y+="translate("+i+"%, "+n+"%) "),(x||s!==ne||o!==ne||a!==ne)&&(y+=a!==ne||x?"translate3d("+s+", "+o+", "+a+") ":"translate("+s+", "+o+kt),u!==Ft&&(y+="rotate("+u+kt),f!==Ft&&(y+="rotateY("+f+kt),l!==Ft&&(y+="rotateX("+l+kt),(_!==Ft||d!==Ft)&&(y+="skew("+_+", "+d+kt),(m!==1||c!==1)&&(y+="scale("+m+", "+c+kt),v.style[X]=y||"translate(0, 0)"},$n=function(t,r){var e=r||this,i=e.xPercent,n=e.yPercent,s=e.x,o=e.y,a=e.rotation,u=e.skewX,f=e.skewY,l=e.scaleX,_=e.scaleY,d=e.target,m=e.xOrigin,c=e.yOrigin,p=e.xOffset,g=e.yOffset,v=e.forceCSS,T=parseFloat(s),y=parseFloat(o),x,b,E,R,P;a=parseFloat(a),u=parseFloat(u),f=parseFloat(f),f&&(f=parseFloat(f),u+=f,a+=f),a||u?(a*=Kt,u*=Kt,x=Math.cos(a)*l,b=Math.sin(a)*l,E=Math.sin(a-u)*-_,R=Math.cos(a-u)*_,u&&(f*=Kt,P=Math.tan(u-f),P=Math.sqrt(1+P*P),E*=P,R*=P,f&&(P=Math.tan(f),P=Math.sqrt(1+P*P),x*=P,b*=P)),x=Y(x),b=Y(b),E=Y(E),R=Y(R)):(x=l,R=_,b=E=0),(T&&!~(s+"").indexOf("px")||y&&!~(o+"").indexOf("px"))&&(T=Ut(d,"x",s,"px"),y=Ut(d,"y",o,"px")),(m||c||p||g)&&(T=Y(T+m-(m*x+c*E)+p),y=Y(y+c-(m*b+c*R)+g)),(i||n)&&(P=d.getBBox(),T=Y(T+i/100*P.width),y=Y(y+n/100*P.height)),P="matrix("+x+","+b+","+E+","+R+","+T+","+y+")",d.setAttribute("transform",P),v&&(d.style[X]=P)},Qn=function(t,r,e,i,n){var s=360,o=H(n),a=parseFloat(n)*(o&&~n.indexOf("rad")?It:1),u=a-i,f=i+u+"deg",l,_;return o&&(l=n.split("_")[1],l==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-s)),l==="cw"&&u<0?u=(u+s*Ur)%s-~~(u/s)*s:l==="ccw"&&u>0&&(u=(u-s*Ur)%s-~~(u/s)*s)),t._pt=_=new et(t._pt,r,e,i,u,Fn),_.e=f,_.u="deg",t._props.push(e),_},zr=function(t,r){for(var e in r)t[e]=r[e];return t},Jn=function(t,r,e){var i=zr({},e._gsap),n="perspective,force3D,transformOrigin,svgOrigin",s=e.style,o,a,u,f,l,_,d,m;i.svg?(u=e.getAttribute("transform"),e.setAttribute("transform",""),s[X]=r,o=xe(e,1),Gt(e,X),e.setAttribute("transform",u)):(u=getComputedStyle(e)[X],s[X]=r,o=xe(e,1),s[X]=u);for(a in Rt)u=i[a],f=o[a],u!==f&&n.indexOf(a)<0&&(d=K(u),m=K(f),l=d!==m?Ut(e,a,u,m):parseFloat(u),_=parseFloat(f),t._pt=new et(t._pt,o,a,l,_-l,Je),t._pt.u=m||0,t._props.push(a));zr(o,i)};tt("padding,margin,Width,Radius",function(h,t){var r="Top",e="Right",i="Bottom",n="Left",s=(t<3?[r,e,i,n]:[r+n,r+e,i+e,i+n]).map(function(o){return t<2?h+o:"border"+o+h});Ae[t>1?"border"+h:h]=function(o,a,u,f,l){var _,d;if(arguments.length<4)return _=s.map(function(m){return Et(o,m,u)}),d=_.join(" "),d.split(_[0]).length===5?_[0]:d;_=(f+"").split(" "),d={},s.forEach(function(m,c){return d[m]=_[c]=_[c]||_[(c-1)/2|0]}),o.init(a,d,l)}});var Ii={name:"css",register:er,targetTest:function(t){return t.style&&t.nodeType},init:function(t,r,e,i,n){var s=this._props,o=t.style,a=e.vars.startAt,u,f,l,_,d,m,c,p,g,v,T,y,x,b,E,R;xr||er(),this.styles=this.styles||Oi(t),R=this.styles.props,this.tween=e;for(c in r)if(c!=="autoRound"&&(f=r[c],!(nt[c]&&vi(c,r,e,i,t,n)))){if(d=typeof f,m=Ae[c],d==="function"&&(f=f.call(e,i,t,n),d=typeof f),d==="string"&&~f.indexOf("random(")&&(f=_e(f)),m)m(this,t,c,f,e)&&(E=1);else if(c.substr(0,2)==="--")u=(getComputedStyle(t).getPropertyValue(c)+"").trim(),f+="",At.lastIndex=0,At.test(u)||(p=K(u),g=K(f)),g?p!==g&&(u=Ut(t,c,u,g)+g):p&&(f+=p),this.add(o,"setProperty",u,f,i,n,0,0,c),s.push(c),R.push(c,0,o[c]);else if(d!=="undefined"){if(a&&c in a?(u=typeof a[c]=="function"?a[c].call(e,i,t,n):a[c],H(u)&&~u.indexOf("random(")&&(u=_e(u)),K(u+"")||u==="auto"||(u+=at.units[c]||K(Et(t,c))||""),(u+"").charAt(1)==="="&&(u=Et(t,c))):u=Et(t,c),_=parseFloat(u),v=d==="string"&&f.charAt(1)==="="&&f.substr(0,2),v&&(f=f.substr(2)),l=parseFloat(f),c in xt&&(c==="autoAlpha"&&(_===1&&Et(t,"visibility")==="hidden"&&l&&(_=0),R.push("visibility",0,o.visibility),wt(this,o,"visibility",_?"inherit":"hidden",l?"inherit":"hidden",!l)),c!=="scale"&&c!=="transform"&&(c=xt[c],~c.indexOf(",")&&(c=c.split(",")[0]))),T=c in Rt,T){if(this.styles.save(c),d==="string"&&f.substring(0,6)==="var(--"&&(f=_t(t,f.substring(4,f.indexOf(")"))),l=parseFloat(f)),y||(x=t._gsap,x.renderTransform&&!r.parseTransform||xe(t,r.parseTransform),b=r.smoothOrigin!==!1&&x.smooth,y=this._pt=new et(this._pt,o,X,0,1,x.renderTransform,x,0,-1),y.dep=1),c==="scale")this._pt=new et(this._pt,x,"scaleY",x.scaleY,(v?Ht(x.scaleY,v+l):l)-x.scaleY||0,Je),this._pt.u=0,s.push("scaleY",c),c+="X";else if(c==="transformOrigin"){R.push(rt,0,o[rt]),f=Hn(f),x.svg?rr(t,f,0,b,0,this):(g=parseFloat(f.split(" ")[2])||0,g!==x.zOrigin&&wt(this,x,"zOrigin",x.zOrigin,g),wt(this,o,c,Oe(u),Oe(f)));continue}else if(c==="svgOrigin"){rr(t,f,1,b,0,this);continue}else if(c in Ci){Qn(this,x,c,_,v?Ht(_,v+f):f);continue}else if(c==="smoothOrigin"){wt(this,x,"smooth",x.smooth,f);continue}else if(c==="force3D"){x[c]=f;continue}else if(c==="transform"){Jn(this,f,t);continue}}else c in o||(c=re(c)||c);if(T||(l||l===0)&&(_||_===0)&&!Cn.test(f)&&c in o)p=(u+"").substr((_+"").length),l||(l=0),g=K(f)||(c in at.units?at.units[c]:p),p!==g&&(_=Ut(t,c,u,g)),this._pt=new et(this._pt,T?x:o,c,_,(v?Ht(_,v+l):l)-_,!T&&(g==="px"||c==="zIndex")&&r.autoRound!==!1?In:Je),this._pt.u=g||0,p!==g&&g!=="%"&&(this._pt.b=u,this._pt.r=kn);else if(c in o)jn.call(this,t,c,u,v?v+f:f);else if(c in t)this.add(t,c,u||t[c],v?v+f:f,i,n);else if(c!=="parseTransform"){ar(c,f);continue}T||(c in o?R.push(c,0,o[c]):typeof t[c]=="function"?R.push(c,2,t[c]()):R.push(c,1,u||t[c])),s.push(c)}}E&&Pi(this)},render:function(t,r){if(r.tween._time||!gr())for(var e=r._pt;e;)e.r(t,e.d),e=e._next;else r.styles.revert()},get:Et,aliases:xt,getSetter:function(t,r,e){var i=xt[r];return i&&i.indexOf(",")<0&&(r=i),r in Rt&&r!==rt&&(t._gsap.x||Et(t,"x"))?e&&Or===e?r==="scale"?Xn:Nn:(Or=e||{})&&(r==="scale"?Vn:Gn):t.style&&!nr(t.style[r])?zn:~r.indexOf("-")?Bn:pr(t,r)},core:{_removeProperty:Gt,_getMatrix:Tr}};it.utils.checkPrefix=re;it.core.getStyleSaver=Oi;(function(h,t,r,e){var i=tt(h+","+t+","+r,function(n){Rt[n]=1});tt(t,function(n){at.units[n]="deg",Ci[n]=1}),xt[i[13]]=h+","+t,tt(e,function(n){var s=n.split(":");xt[s[1]]=i[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");tt("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(h){at.units[h]="px"});it.registerPlugin(Ii);var zi=it.registerPlugin(Ii)||it;zi.core.Tween;class ts{constructor({app:t,gl:r,program:e}={}){this.gl=r,this.program=e,this.breakRatio={val1:0,val2:0},this.isBackground=!1,this.inrSphereRad=t.inrSphereRad,this.outSphereRad=t.outSphereRad,this.setupGeo(),this.setupLocation()}setupGeo(){const t=this.gl,r=[1,1,1,1];this.cubeGeometry=he.cube(20,r),this.cubeVBO=[S.createVBO(t,this.cubeGeometry.position)],this.cubeIBO=S.createIBO(t,this.cubeGeometry.index),this.cube2Geometry=he.cube(1,r),this.cube2VBO=[S.createVBO(t,this.cube2Geometry.position),S.createVBO(t,this.cube2Geometry.normal)],this.cube2IBO=S.createIBO(t,this.cube2Geometry.index)}setupLocation(){const t=this.gl;this.attributeLocation=[t.getAttribLocation(this.program,"position"),t.getAttribLocation(this.program,"normal")],this.attributeStride=[3],this.attributeStride=[3,3],this.uniformLocation={time:t.getUniformLocation(this.program,"time"),ram:t.getUniformLocation(this.program,"ram"),breakRatio1:t.getUniformLocation(this.program,"breakRatio1"),breakRatio2:t.getUniformLocation(this.program,"breakRatio2"),mask:t.getUniformLocation(this.program,"mask"),id:t.getUniformLocation(this.program,"id"),total:t.getUniformLocation(this.program,"total"),mMatrix:t.getUniformLocation(this.program,"mMatrix"),vpMatrix:t.getUniformLocation(this.program,"vpMatrix"),normalMatrix:t.getUniformLocation(this.program,"normalMatrix"),reflection:t.getUniformLocation(this.program,"reflection"),eyePosition:t.getUniformLocation(this.program,"eyePosition"),outSphereRad:t.getUniformLocation(this.program,"outSphereRad"),worldPos1:t.getUniformLocation(this.program,"worldPos1"),textureUnit0:t.getUniformLocation(this.program,"textureUnit0"),textureUnit1:t.getUniformLocation(this.program,"textureUnit1"),textureUnit2:t.getUniformLocation(this.program,"textureUnit2")}}setupRendering({time:t,eyePos:r,vp:e,tex:i=[],param:n}={}){const s=this.gl,o=n.progress;if(this.breakRatio.val1=Math.min(1,Math.max(0,o-.51)/.01),this.breakRatio.val2=Math.min(1,Math.max(0,o-.51)/.6),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,i[0]),s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,i[1]),s.activeTexture(s.TEXTURE2),s.bindTexture(s.TEXTURE_2D,i[3]),s.useProgram(this.program),s.uniform1f(this.uniformLocation.outSphereRad,this.outSphereRad),this.worldPos1=V.create(0,this.outSphereRad-this.inrSphereRad-n.transZ,0),s.uniform3fv(this.uniformLocation.worldPos1,this.worldPos1),s.uniform3fv(this.uniformLocation.eyePosition,[0,r[1],0]),s.uniform1i(this.uniformLocation.textureUnit0,0),s.uniform1i(this.uniformLocation.textureUnit1,n.transZ_odd?2:1),s.uniform1i(this.uniformLocation.textureUnit2,n.transZ_odd?1:2),s.uniform1f(this.uniformLocation.time,t),s.uniform1f(this.uniformLocation.breakRatio1,this.breakRatio.val1),s.uniform1f(this.uniformLocation.breakRatio2,this.breakRatio.val2),this.isBackground===!0){S.enableBuffer(s,this.cubeVBO,this.attributeLocation,this.attributeStride,this.cubeIBO),s.cullFace(s.FRONT),s.depthMask(!1),s.stencilFunc(s.ALWAYS,0,-1),s.stencilOp(s.KEEP,s.KEEP,s.REPLACE);let a=D.translate(D.identity(),V.create(0,0,Math.sin(t)*0));const u=D.transpose(D.inverse(a));s.uniform2fv(this.uniformLocation.id,[0,0]),s.uniform2fv(this.uniformLocation.total,[0,0]),s.uniformMatrix4fv(this.uniformLocation.mMatrix,!1,a),s.uniformMatrix4fv(this.uniformLocation.vpMatrix,!1,e),s.uniformMatrix4fv(this.uniformLocation.normalMatrix,!1,u),s.uniform1i(this.uniformLocation.reflection,!1),s.drawElements(s.TRIANGLES,this.cubeGeometry.index.length,s.UNSIGNED_SHORT,0)}if(.5<=this.breakRatio.val1){S.enableBuffer(s,this.cube2VBO,this.attributeLocation,this.attributeStride,this.cube2IBO),s.cullFace(s.BACK),s.depthMask(!0),s.stencilFunc(s.ALWAYS,1,-1),s.stencilOp(s.KEEP,s.KEEP,s.REPLACE);let a=D.identity();s.colorMask(!1,!1,!1,!1),s.depthMask(!1),s.uniform1f(this.uniformLocation.mask,!0),this.worldPos1=V.create(0,Math.max(-r[1]+.5,this.outSphereRad-this.inrSphereRad-n.transZ),0),s.uniform3fv(this.uniformLocation.worldPos1,this.worldPos1);const u={w:14,h:14};for(let f=0;f<u.h;f++)for(let l=0;l<u.w;l++){const _=D.transpose(D.inverse(a));s.uniformMatrix4fv(this.uniformLocation.mMatrix,!1,a),s.uniformMatrix4fv(this.uniformLocation.vpMatrix,!1,e),s.uniformMatrix4fv(this.uniformLocation.normalMatrix,!1,_),s.uniform2fv(this.uniformLocation.id,[l,f]),s.uniform2fv(this.uniformLocation.total,[u.w,u.h]),s.uniform1i(this.uniformLocation.reflection,!0),s.drawElements(s.TRIANGLES,this.cube2Geometry.index.length,s.UNSIGNED_SHORT,0)}s.stencilFunc(s.EQUAL,1,-1),s.stencilOp(s.KEEP,s.KEEP,s.KEEP),s.colorMask(!0,!0,!0,!0),s.depthMask(!0),this.worldPos1=V.create(0,this.outSphereRad-this.inrSphereRad-n.transZ,0),s.uniform3fv(this.uniformLocation.worldPos1,this.worldPos1),s.uniform1f(this.uniformLocation.mask,!1);for(let f=0;f<u.h;f++)for(let l=0;l<u.w;l++){const _=D.transpose(D.inverse(a));s.uniformMatrix4fv(this.uniformLocation.mMatrix,!1,a),s.uniformMatrix4fv(this.uniformLocation.vpMatrix,!1,e),s.uniformMatrix4fv(this.uniformLocation.normalMatrix,!1,_),s.uniform2fv(this.uniformLocation.id,[l,f]),s.uniform2fv(this.uniformLocation.total,[u.w,u.h]),s.uniform1i(this.uniformLocation.reflection,!0),s.drawElements(s.TRIANGLES,this.cube2Geometry.index.length,s.UNSIGNED_SHORT,0)}}else s.uniform1f(this.uniformLocation.ram,Math.random())}breakManager(){zi.timeline().set(this.breakRatio,{val1:0,val2:0,overwrite:!0}).to(this.breakRatio,{val1:1,duration:.065,delay:1,ease:"power4.out"}).to(this.breakRatio,{val2:1,duration:4,delay:.05,ease:"power0.inOut"})}}class es{constructor({app:t,gl:r,program:e}={}){this.gl=r,this.program=e,this.isBackground=!0,this.inrSphereRad=t.inrSphereRad,this.outSphereRad=t.outSphereRad,this.setupGeo(),this.setupLocation()}setupGeo(){const t=this.gl,r=[1,1,1,1];this.sphereGeometry=he.sphere(64,64,this.inrSphereRad,r),this.torusVBO=[S.createVBO(t,this.sphereGeometry.position),S.createVBO(t,this.sphereGeometry.normal),S.createVBO(t,this.sphereGeometry.texCoord)],this.sphereIBO=S.createIBO(this.gl,this.sphereGeometry.index)}setupLocation(){const t=this.gl;this.attributeLocation=[t.getAttribLocation(this.program,"position"),t.getAttribLocation(this.program,"normal"),t.getAttribLocation(this.program,"uv")],this.attributeStride=[3,3,2],this.uniformLocation={outSphereRad:t.getUniformLocation(this.program,"outSphereRad"),time:t.getUniformLocation(this.program,"time"),worldPos1:t.getUniformLocation(this.program,"worldPos1"),mMatrix:t.getUniformLocation(this.program,"mMatrix"),vpMatrix:t.getUniformLocation(this.program,"vpMatrix"),normalMatrix:t.getUniformLocation(this.program,"normalMatrix"),reflection:t.getUniformLocation(this.program,"reflection"),eyePosition:t.getUniformLocation(this.program,"eyePosition"),textureUnit0:t.getUniformLocation(this.program,"textureUnit0"),textureUnit1:t.getUniformLocation(this.program,"textureUnit1"),textureUnit2:t.getUniformLocation(this.program,"textureUnit2")}}setupRendering_background({time:t,eyePos:r,vp:e,tex:i=[],index:n=0,param:s}={}){const o=this.gl,a=t*3;o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,i[0]),o.activeTexture(o.TEXTURE1),o.bindTexture(o.TEXTURE_2D,i[1]),o.activeTexture(o.TEXTURE2),o.bindTexture(o.TEXTURE_2D,i[3]),o.useProgram(this.program),o.uniform3fv(this.uniformLocation.eyePosition,r),o.uniform1i(this.uniformLocation.textureUnit0,0),o.uniform1f(this.uniformLocation.time,a),o.uniform1f(this.uniformLocation.outSphereRad,this.outSphereRad),this.worldPos1=V.create(0,0,0),this.worldPos1=V.create(0,s.transZ,0),o.uniform3fv(this.uniformLocation.worldPos1,this.worldPos1),S.enableBuffer(o,this.torusVBO,this.attributeLocation,this.attributeStride,this.sphereIBO),o.enable(o.CULL_FACE),o.cullFace(o.FRONT),o.depthMask(!1);let u=D.identity();n===0?(u=D.translate(u,this.worldPos1),o.uniform1i(this.uniformLocation.textureUnit1,s.transZ_odd?2:1),o.uniform1i(this.uniformLocation.textureUnit2,s.transZ_odd?1:2)):n===1&&(u=D.translate(u,V.add(this.worldPos1,V.create(0,(-this.outSphereRad+this.inrSphereRad)*2,0))),o.uniform1i(this.uniformLocation.textureUnit1,s.transZ_odd?1:2),o.uniform1i(this.uniformLocation.textureUnit2,s.transZ_odd?2:1)),u=D.scale(u,V.create(this.outSphereRad,this.outSphereRad,this.outSphereRad));let f=D.transpose(D.inverse(u));o.uniformMatrix4fv(this.uniformLocation.mMatrix,!1,u),o.uniformMatrix4fv(this.uniformLocation.vpMatrix,!1,e),o.uniformMatrix4fv(this.uniformLocation.normalMatrix,!1,f),o.uniform1i(this.uniformLocation.reflection,!1),o.drawElements(o.TRIANGLES,this.sphereGeometry.index.length,o.UNSIGNED_SHORT,0)}setupRendering_sphere({time:t,eyePos:r,vp:e,tex:i=[],param:n}={}){const s=this.gl;s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,i[0]),s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,i[1]),s.activeTexture(s.TEXTURE2),s.bindTexture(s.TEXTURE_2D,i[3]),s.useProgram(this.program),s.uniform1i(this.uniformLocation.textureUnit1,n.transZ_odd?2:1),s.uniform1i(this.uniformLocation.textureUnit2,n.transZ_odd?1:2),s.cullFace(s.BACK),s.depthMask(!0);let o=D.identity();const a=1/this.inrSphereRad*1;o=D.scale(o,V.create(a,a,a));const u=D.transpose(D.inverse(o));s.uniformMatrix4fv(this.uniformLocation.mMatrix,!1,o),s.uniformMatrix4fv(this.uniformLocation.vpMatrix,!1,e),s.uniformMatrix4fv(this.uniformLocation.normalMatrix,!1,u),s.uniform1i(this.uniformLocation.reflection,!0),s.drawElements(s.TRIANGLES,this.sphereGeometry.index.length,s.UNSIGNED_SHORT,0)}changeRenderingTarget({mask:t=!1}){const r=this.gl;t?(r.stencilFunc(r.EQUAL,1,-1),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)):(r.stencilFunc(r.ALWAYS,0,-1),r.stencilOp(r.KEEP,r.KEEP,r.REPLACE))}}class rs{constructor({gl:t,program:r}={}){this.gl=t,this.program=r,this.breakRatio={val1:0,val2:0},this.breakRatio={val1:1,val2:1},this.isBackground=!0,this.setupGeo(),this.setupLocation()}setupGeo(){const t=this.gl,r=[1,1,1,1];this.planeGeometry=he.plane(2,2,r),this.planeVBO=[S.createVBO(t,this.planeGeometry.position),S.createVBO(t,this.planeGeometry.texCoord)],this.planeIBO=S.createIBO(t,this.planeGeometry.index)}setupLocation(){const t=this.gl;this.attributeLocation=[t.getAttribLocation(this.program,"position"),t.getAttribLocation(this.program,"uv")],this.attributeStride=[3,2],this.uniformLocation={time:t.getUniformLocation(this.program,"time"),index:t.getUniformLocation(this.program,"index"),textureUnit0:t.getUniformLocation(this.program,"textureUnit0")}}setupRendering({time:t,tex:r=[],param:e}={}){const i=this.gl;i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,r[0]),i.useProgram(this.program),i.uniform1i(this.uniformLocation.index,0),i.uniform1i(this.uniformLocation.textureUnit0,0);const n=e.progress;e.transZ_odd&&.51<n?i.uniform1f(this.uniformLocation.time,t*0):i.uniform1f(this.uniformLocation.time,t*3),S.enableBuffer(i,this.planeVBO,this.attributeLocation,this.attributeStride,this.planeIBO),i.cullFace(i.BACK),i.depthMask(!1),i.drawElements(i.TRIANGLES,this.planeGeometry.index.length,i.UNSIGNED_SHORT,0)}setupRendering_fx({time:t,tex:r=[]}={}){const e=this.gl;e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,r[0]),e.useProgram(this.program),e.uniform1i(this.uniformLocation.index,1),e.uniform1i(this.uniformLocation.textureUnit0,0),e.uniform1f(this.uniformLocation.time,t*3),S.enableBuffer(e,this.planeVBO,this.attributeLocation,this.attributeStride,this.planeIBO),e.cullFace(e.BACK),e.depthMask(!1),e.drawElements(e.TRIANGLES,this.planeGeometry.index.length,e.UNSIGNED_SHORT,0)}}class is{constructor({gl:t,program:r}={}){this.gl=t,this.program=r,this.setupGeo(),this.setupLocation()}setupGeo(){const t=this.gl,r=[1,1,1,1];this.sphereGeometry=he.sphere(64,64,2,r),this.torusVBO=[S.createVBO(t,this.sphereGeometry.position),S.createVBO(t,this.sphereGeometry.texCoord)],this.sphereIBO=S.createIBO(this.gl,this.sphereGeometry.index)}setupLocation(){const t=this.gl;this.attributeLocation=[t.getAttribLocation(this.program,"position"),t.getAttribLocation(this.program,"uv")],this.attributeStride=[3,2],this.uniformLocation={textureUnit0:t.getUniformLocation(this.program,"textureUnit0"),mMatrix:t.getUniformLocation(this.program,"mMatrix"),vpMatrix:t.getUniformLocation(this.program,"vpMatrix"),eyePosition:t.getUniformLocation(this.program,"eyePosition")}}setupRendering({eyePos:t,vp:r,tex:e=[]}={}){const i=this.gl;i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,e[0]),i.useProgram(this.program),i.uniform3fv(this.uniformLocation.eyePosition,t);let n=D.identity();n=D.scale(n,V.create(3,3,3)),n=D.translate(n,[0,1.5,0]),i.uniformMatrix4fv(this.uniformLocation.mMatrix,!1,n),i.uniformMatrix4fv(this.uniformLocation.vpMatrix,!1,r),i.uniform1i(this.uniformLocation.textureUnit0,0),S.enableBuffer(i,this.torusVBO,this.attributeLocation,this.attributeStride,this.sphereIBO),i.enable(i.CULL_FACE),i.cullFace(i.FRONT),i.depthMask(!1),i.drawElements(i.TRIANGLES,this.sphereGeometry.index.length,i.UNSIGNED_SHORT,0)}}var ns=`#extension GL_OES_standard_derivatives : enable\r
precision mediump float;

uniform bool reflection;\r
uniform vec3 eyePosition;\r
uniform float outSphereRad;\r
uniform sampler2D textureUnit0;\r
uniform sampler2D textureUnit1;\r
uniform sampler2D textureUnit2;\r
uniform vec3 worldPos1;\r
uniform mat4 normalMatrix;\r
varying vec3 vPosition;\r
varying vec3 vNormal;

float random(vec2 st){\r
  return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\r
}

const float PI = 3.1415926535897932384626433832795;\r
const float inrSphereRad = 1.;

vec3 intersectSpherePosition(vec3 rayOrigin, vec3 rayDir, float sphereRadius) {\r
    float originDotDir = dot(rayOrigin, rayDir);\r
    float originLengthSquaredMinusR2 = dot(rayOrigin, rayOrigin) - sphereRadius * sphereRadius;\r
    float discriminant = originDotDir * originDotDir - originLengthSquaredMinusR2;\r
    if (discriminant < 0.0) {\r
        return vec3(-1.0);\r
    }\r
    float sqrtDiscriminant = sqrt(discriminant);\r
    float t = -originDotDir + sqrtDiscriminant;\r
    if (t > 0.0) {\r
        return rayOrigin + rayDir * t;\r
    }\r
    return vec3(-1.0);\r
}

vec2 sphereUV(vec3 pos){\r
    vec3 eyeDirection = normalize(pos - eyePosition * 100.);

    vec3 dpdx = dFdx(pos);\r
    vec3 dpdy = dFdy(pos);

    vec3 normal = normalize(cross(dpdx, dpdy));\r
    vec3 reflectVector = normal;\r
    float eta = 1.0 / 1.2;\r
    reflectVector = refract(eyeDirection, normal, eta);

    vec3 dir = normalize(reflectVector);

    vec3 point = intersectSpherePosition(pos * 1., dir, outSphereRad);\r
    float u = atan(point.z, point.x) / (2.0 * PI) + 0.5;\r
    u = 1.0 - u;\r
    float v = min(1., acos(point.y / outSphereRad) / PI);\r
    \r
    return vec2(u, v);\r
}

void main() {\r
    vec2 uvA = sphereUV(vPosition - 0.5 * vec3(0., outSphereRad * 1. - inrSphereRad * 1., 0.));\r
    vec4 texA = texture2D(textureUnit1, uvA);

    vec2 uvB = sphereUV(vPosition + 0.5 * vec3(0., outSphereRad *1. - inrSphereRad * 1., 0.));\r
    vec4 texB = texture2D(textureUnit2, uvB);\r
    gl_FragColor = texA;

    float progressA_N11 = ((vPosition.y + worldPos1.y + 1.9 + 1. * (outSphereRad * 1. - inrSphereRad * 1.)) / (outSphereRad - inrSphereRad));\r
    float progressB_N11 = ((vPosition.y + 0. * (outSphereRad * 2. - inrSphereRad * 2.)) / (outSphereRad - inrSphereRad));

    gl_FragColor = mix(texA, texB, step(abs(progressA_N11), 1.));\r
}`,ss=`precision mediump float;\r
attribute vec3 position;\r
attribute vec3 normal;\r
attribute vec2 uv;\r
uniform mat4 mMatrix;\r
uniform mat4 vpMatrix;\r
uniform float time;\r
uniform float ram;\r
uniform vec3 worldPos1;\r
uniform mat4 normalMatrix;\r
uniform float breakRatio1;\r
uniform float breakRatio2;\r
uniform vec2 total;\r
uniform vec2 id;\r
uniform sampler2D textureUnit0;\r
uniform bool reflection;\r
uniform bool mask;\r
varying vec3 vPosition;\r
varying vec3 vNormal;\r
varying vec2 vUV;

const float PI = 3.1415926535897932384626433832795;\r
const vec2 oStrength = vec2(4., 1.);\r
const float breakRatio1_count = 1.;

const float sss = 0.3;

mat3 axisAngle(vec3 axis, float angle) {\r
    axis = normalize(axis);\r
    float c = cos(angle);\r
    float s = sin(angle);\r
    float oc = 1.0 - c;\r
    return mat3(\r
        oc*axis.x*axis.x + c,         oc*axis.x*axis.y - axis.z*s, oc*axis.z*axis.x + axis.y*s,\r
        oc*axis.x*axis.y + axis.z*s,  oc*axis.y*axis.y + c,        oc*axis.y*axis.z - axis.x*s,\r
        oc*axis.z*axis.x - axis.y*s,  oc*axis.y*axis.z + axis.x*s, oc*axis.z*axis.z + c\r
    );\r
}

float random(vec2 st){\r
  return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);\r
}

float easeInOutSine(float x) {\r
  return -(cos(PI * x) - 1.) / 2.;\r
}

float easeOutQuint(float x) {\r
  return 1. - pow(1. - x, 5.);\r
}\r
float easeOutCubic(float x) {\r
  return 1. - pow(1. - x, 1.);\r
}\r
float easeOutCirc(float x) {\r
  return sqrt(1. - pow(x - 1., 2.));\r
}\r
float easeOutSine(float x) {\r
  return sin((x * PI) / 2.);\r
}\r
float easeInCubic(float x){\r
  return x * x * x;\r
}\r
float easeInSine(float x) {\r
  return 1. - cos((x * PI) / 2.);\r
}\r
float easeInQuint(float x) {\r
  return x * x * x * x * x;\r
}

float transEase(float x) {\r
  return x * -x * 2.;\r
}

vec2 transP(vec2 p, vec2 ratio, vec2 base, float interval){\r
  vec2 pUV = p + 0.5;\r
  pUV = pUV * ratio + id * ratio;\r
  pUV = fract(pUV + interval);\r
  float offset = texture2D(textureUnit0, vec2(random(pUV + ram * 1.13), random(pUV + ram))).r * 2. - 1.;\r
  p += offset * oStrength;\r
  p *= 1. - floor(breakRatio1 * (breakRatio1_count + 1.)) / (breakRatio1_count + 1.) * 0.04 * (mask == true ? 0. : 1.);\r
  float d = min(10., length(base + p) / length((total - 1.) / 2.));\r
  float ease = 1.;\r
  ease *= easeInCubic(d);\r
  return (base + p) * ease * 3.5;\r
}

void main() {\r
  vec3 nPos = position;\r
  mat4 mMatrix_custom = mMatrix;\r
  float interval = floor(time * 1.) * 0.01 * 0.;

  if(reflection == true) {\r
    vec2 ratio = 1. / total;\r
    vec2 o = id - (total - 1.) / 2.;

    nPos.y *= .1;\r
    nPos.xz = transP(nPos.xz, ratio, o, interval);

    vec3 center = vec3(0.);\r
    for(float i = 0.; i < 2.; i++){\r
      vec2 xz = vec2(-0.5 + i);\r
      for(float j = 0.; j < 2.; j++){\r
        xz.x = -0.5 + j;\r
        center.xz += transP(xz, ratio, o, interval);\r
      }\r
    }\r
    center.xz /= 4.;\r
    nPos.xz -= center.xz;\r
    nPos.xz *= (mask == true ? 0.92 * sss : 1. * sss);

    float dist = 1. - min(1., length(center.xz / 2.) / length((total - 1.) / 2.));\r
    float power = easeInQuint(dist) * floor(breakRatio1 * max(1.,breakRatio1_count)) / max(1.,breakRatio1_count);\r
    power *= mask == true ? 0. : 1. * sss;

    vec3 axis = normalize(cross(center, vec3(0., -1, 0.)));

    float blowAwayRatio = step(0.4, power * (1. / sss));

    float power2 = (power - 0.4) / 0.6 * sss;\r
    float initY = transEase(-center.z);\r
    float scale = 4. * sss * 3.;\r
    float baseTime = easeOutCubic(breakRatio2);\r
    float turnZ = (step(0.6 + pow(random(o * 0.03), 2.) * 0.1, power * (1. / sss)) - 0.5) * 2.;

    center.x *= 1. + (baseTime * 6.) * (1. + pow(1. - power2, 2.)) * 2. * scale * blowAwayRatio;\r
    center.z += (transEase(-center.z + baseTime * 3.) - initY) * scale * blowAwayRatio;\r
    center.y -= (baseTime * 6.) * (1. + pow(power2, 2.)) * 2. * scale * turnZ * blowAwayRatio;

    center.xz *= (mask == true ? 0.92 * sss : 1. * sss);

    mat3 rotM = axisAngle(axis, power * 13.5 + (1. + power2) * 30. * baseTime * blowAwayRatio);\r
    center.y += -power * (13.5 * 1.);

    mat4 transM = mat4(\r
      vec4(rotM[0], 0.),\r
      vec4(rotM[1], 0.),\r
      vec4(rotM[2], 0.),\r
      vec4(center - worldPos1*1., 1.)\r
    );\r
    mMatrix_custom = transM * mMatrix_custom;\r
  }

  mat4 mvpMatrix = vpMatrix * mMatrix_custom;\r
  if(reflection == false) {\r
    mvpMatrix[3] = vec4(vec3(0.), 1.0);\r
  }

  vPosition = (mMatrix_custom * vec4(nPos, 1.0)).xyz;\r
  vNormal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\r
  vUV = uv;

  gl_Position = mvpMatrix * vec4(nPos, 1.0);\r
}`,os=`precision mediump float;

uniform bool reflection;\r
uniform vec3 eyePosition;\r
uniform float outSphereRad;\r
uniform sampler2D textureUnit0;\r
uniform sampler2D textureUnit1;\r
uniform sampler2D textureUnit2;\r
uniform vec3 worldPos1;\r
uniform mat4 normalMatrix;\r
varying vec3 vPosition;\r
varying vec3 vNormal;\r
varying vec2 vUV;

const float PI = 3.1415926535897932384626433832795;\r
const float inrSphereRad = 1. + (1. - 1.) * (5. - 1.);

vec3 intersectSpherePosition(vec3 rayOrigin, vec3 rayDir, float sphereRadius) {\r
    float originDotDir = dot(rayOrigin, rayDir);\r
    float originLengthSquaredMinusR2 = dot(rayOrigin, rayOrigin) - sphereRadius * sphereRadius;\r
    float discriminant = originDotDir * originDotDir - originLengthSquaredMinusR2;\r
    if (discriminant < 0.0) {\r
        return vec3(-1.0);\r
    }\r
    float sqrtDiscriminant = sqrt(discriminant);\r
    float t = -originDotDir + sqrtDiscriminant;\r
    if (t > 0.0) {\r
        return rayOrigin + rayDir * t;\r
    }\r
    return vec3(-1.0);\r
}

vec2 sphereUV(vec3 pos){\r
    vec3 eyeDirection = normalize(pos - eyePosition * 100.);\r
    vec3 normal = normalize(vNormal);\r
    vec3 reflectVector = normal;\r
    reflectVector = reflect(eyeDirection, normal);

    vec3 dir = normalize(reflectVector);

    vec3 point = intersectSpherePosition(pos, dir, outSphereRad);\r
    float u = atan(point.z, point.x) / (2.0 * PI) + 0.5;\r
    u = 1.0 - u;\r
    float v = min(1., acos(point.y / outSphereRad) / PI);\r
    \r
    return vec2(u, v);\r
}

void main() {\r
  vec3 n = vNormal;

  if (reflection == true) {\r
    vec2 uvA = sphereUV(vPosition);\r
    vec4 texA = texture2D(textureUnit1, uvA);

    vec2 uvB = sphereUV(vPosition + vec3(0., outSphereRad * 2. - inrSphereRad * 2., 0.));\r
    vec4 texB = texture2D(textureUnit2, uvB);

    vec4 noise = texture2D(textureUnit0, uvA.xx);

    float progressA_N11 = ((vPosition.y + 1.9 - noise.r * 1.) / (outSphereRad - inrSphereRad));
    float progressB_N11 = ((vPosition.y + 1.9 - noise.r * 1. + outSphereRad * 2. - inrSphereRad * 2.) / (outSphereRad - inrSphereRad));

    gl_FragColor = mix(texB, texA, step(abs(progressA_N11), 1.));

    if(step(abs(progressA_N11), 1.) + step(abs(progressB_N11), 1.) == 0.){\r
      discard;\r
    }    \r
  }else{\r
    vec2 uv = vUV;\r
    uv.x = fract(uv.x + 0.5);\r
    vec4 tex = texture2D(textureUnit1, uv);

    vec3 lightPos = vec3(0.1, 0.25, 0.1);

    vec3 lightVec = lightPos - vPosition;

    float strength = 1. - min(1., length(lightVec) / 1.5);\r
    float d = dot(normalize(-n), normalize(lightVec));\r
    d *= strength;

    vec4 color = vec4(tex.rgb * d, tex.a);\r
    gl_FragColor = tex;\r
  }\r
}`,as=`precision mediump float;

attribute vec3 position;\r
attribute vec3 normal;\r
attribute vec2 uv;\r
uniform mat4 mMatrix;\r
uniform mat4 vpMatrix;\r
uniform float time;\r
uniform vec3 worldPos1;\r
uniform mat4 normalMatrix;\r
uniform sampler2D textureUnit0;\r
uniform bool reflection;\r
varying vec3 vPosition;\r
varying vec3 vNormal;\r
varying vec2 vUV;

void main() {\r
  vNormal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);\r
  vUV = uv;

  if (reflection == true) {\r
    vPosition = (mMatrix * vec4(position - worldPos1*0., 1.0)).xyz;\r
    vPosition = (mMatrix * vec4(position - worldPos1*1., 1.0)).xyz;

    gl_Position = vpMatrix * mMatrix * vec4(position, 1.0);\r
  }else{\r
    vec3 p = position;\r
    vPosition = (mMatrix * vec4(p, 1.0)).xyz;

    gl_Position = vpMatrix * mMatrix * (vec4(p, 1.0));\r
  }\r
}`,us=`precision mediump float;\r
uniform sampler2D textureUnit0;\r
uniform float time;\r
uniform int index;\r
varying vec2 vUV;

const float PI = 3.1415926535897932384626433832795;

void main() {\r
  vec2 p = vUV;

  if(index == 0){\r
    vec4 samplerColor = texture2D(textureUnit0, p * vec2(1., .8) + vec2(0., -time));

    vec3 c = 1. - vec3(abs(sin(-time * 6. + p.y * PI * 5. + samplerColor.r * 10.)));\r
    c *= pow(1. - p.y, 13.);\r
    c += pow(1. - p.y, 5.);\r
    c *= mix(mix(vec3(0.0, 0.35, 1.0), vec3(0.0, 1., 1.0), pow(1. - p.y, 15.)), vec3(1., 1., 1.), pow(1. - p.y, 10.));

    vec2 scale = vec2(60., 1.);\r
    vec2 mP = mod(p * scale, 1.) * 2. - 1.;\r
    mP.y *= 0.5;\r
    vec2 id = floor(p * scale);\r
    vec4 noise = texture2D(textureUnit0, id / scale);\r
    c += vec3(pow(0.01 / length(mP + vec2(0., 0.5 - fract(time * 0.75 * (1. + noise.y) + noise.x * 6.) * 1.)), 1.5)) * pow(1. - p.y, 10.);

    vec2 p2 = p + vec2(time * 0.01, -time * noise.x * 1.5);\r
    vec2 scale2 = vec2(60., 30.);\r
    vec2 mP2 = mod(p2 * scale2, 1.) * 2. - 1.;\r
    mP2 *= 1. / scale2;\r
    mP2.y *= 0.25;\r
    vec2 id2 = floor(p2 * scale2);\r
    vec4 noise2 = texture2D(textureUnit0, id2 / scale2);\r
    vec2 o = texture2D(textureUnit0, id2 / scale2 + 3.).xy * 2. - 1.;\r
    c += vec3(pow(0.01 * (1. + 2. * pow(1. - abs(vUV.y - 0.5) / 0.5, 2.)) * pow(noise2.x, 6.) / length(mP2 + o * 1.5), 1. + noise2.y * 2.) * step(noise2.x, 0.5)) * (1. - p.y) * vec3(pow(p.y, 2.),1.,1.) * 2.5;
    c += vec3(pow(0.01 * (1. + 2. * pow(1. - abs(vUV.y - 0.5) / 0.5, 2.)) * pow(noise2.x, 6.) / length(mP2 + o * 1.5), 1. + noise2.y * 2.) * step(noise2.x, 0.5)) * (1. - p.y) * vec3(pow(p.y, 2.),1.,1.) * 2.5;
    c += vec3(pow(0.01 * (1. + 2. * pow(1. - abs(vUV.y - 0.5) / 0.5, 2.)) * pow(noise2.x, 6.) / length(mP2 + o * 1.5), 1. + noise2.y * 2.) * step(noise2.x, 0.5)) * (1. - p.y) * vec3(pow(p.y, 2.),1.,1.) * 2.5;
    c += vec3(pow(0.01 * (1. + 2. * pow(1. - abs(vUV.y - 0.5) / 0.5, 2.)) * pow(noise2.x, 6.) / length(mP2 + o * 1.5), 1. + noise2.y * 2.) * step(noise2.x, 0.5)) * (1. - p.y) * vec3(pow(p.y, 2.),1.,1.) * 2.5;
    c += vec3(pow(0.01 * (1. + 2. * pow(1. - abs(vUV.y - 0.5) / 0.5, 2.)) * pow(noise2.x, 6.) / length(mP2 + o * 1.5), 1. + noise2.y * 2.) * step(noise2.x, 0.5)) * (1. - p.y) * vec3(pow(p.y, 2.),1.,1.) * 2.5;
    c += vec3(pow(0.01 * (1. + 2. * pow(1. - abs(vUV.y - 0.5) / 0.5, 2.)) * pow(noise2.x, 6.) / length(mP2 + o * 1.5), 1. + noise2.y * 2.) * step(noise2.x, 0.5)) * (1. - p.y) * vec3(pow(p.y, 2.),1.,1.) * 2.5;
    gl_FragColor = vec4(c, 1.);\r
  }\r
  else if(index == 1){\r
    vec4 samplerColor = texture2D(textureUnit0, p * vec2(1., .8 + sin(time * 0. + p.x * PI * 2.) * 0.2) * 6. + vec2(0., -time * 0.65));\r
    gl_FragColor = mix(samplerColor, vec4(0.), p.y * 2.);\r
    gl_FragColor = pow(gl_FragColor, vec4(5.));\r
  }\r
}`,fs=`attribute vec3 position;\r
attribute vec2 uv;\r
varying vec2 vUV;

void main() {\r
  vUV = uv;\r
  gl_Position = vec4(position, 1.0);\r
}`,hs=`precision mediump float;\r
uniform sampler2D textureUnit0;\r
varying vec2 vUV;

void main() {\r
  vec2 p = vUV;\r
  vec4 samplerColor = texture2D(textureUnit0, p);\r
  gl_FragColor = samplerColor;\r
}`,cs=`attribute vec3 position;\r
attribute vec2 uv;\r
uniform mat4 mMatrix;\r
uniform mat4 vpMatrix;\r
varying vec3 vPosition;\r
varying vec2 vUV;

void main() {\r
  vUV = uv;

  vec3 p = position;\r
  vPosition = (mMatrix * vec4(p, 1.0)).xyz;

  gl_Position = vpMatrix * mMatrix * (vec4(p, 1.0));\r
}`;window.addEventListener("DOMContentLoaded",async()=>{const h=new ls;await h.initialize(),h.start()},!1);class ls{constructor(){this.canvas=document.getElementById("webgl-canvas"),this.gl=S.createWebGLContext(this.canvas),this.time=0,this.startTime=0,this.FOVY=45,this.NEAR=.1,this.FAR=1450,this.inrSphereRad=1,this.outSphereRad=20,this.transZ_odd=!0}async initialize(){if(!this.gl.getExtension("OES_standard_derivatives")){console.warn("OES_standard_derivatives is not supported");return}this.ext=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic"),this.ext||console.warn("Anisotropic filtering not supported"),this.MAX_ANISOTROPY=this.gl.getParameter(this.ext.MAX_TEXTURE_MAX_ANISOTROPY_EXT),this.initGLState(),this.setupFramebuffer(),this.bindEvents(),await this.loadAssets()}initGLState(){const t=this.gl;t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.enable(t.STENCIL_TEST),this.resize()}bindEvents(){window.addEventListener("resize",()=>this.resize(),!1)}resize(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.framebuffer&&this.updateFramebufferSize()}updateFramebufferSize(){const t=Math.min(window.innerWidth,window.innerHeight);for(let r=6;r<=12;r++)if(t<Math.pow(2,r)){this.framebufferSize=Math.pow(2,r-1);break}S.resizeFramebuffer(this.gl,this.framebufferSize,this.framebufferSize,this.framebuffer.depthRenderbuffer,this.framebuffer.texture),S.resizeFramebuffer(this.gl,this.framebufferSize,this.framebufferSize,this.framebuffer2.depthRenderbuffer,this.framebuffer2.texture)}async loadAssets(){const t=this.gl;this._GRASS=new ts({app:this,gl:t,program:S.createProgramObject(t,S.createShaderObject(t,ss,t.VERTEX_SHADER),S.createShaderObject(t,ns,t.FRAGMENT_SHADER))}),this._ENV=new es({app:this,gl:t,program:S.createProgramObject(t,S.createShaderObject(t,as,t.VERTEX_SHADER),S.createShaderObject(t,os,t.FRAGMENT_SHADER))}),this._TEX=new rs({gl:t,program:S.createProgramObject(t,S.createShaderObject(t,fs,t.VERTEX_SHADER),S.createShaderObject(t,us,t.FRAGMENT_SHADER))}),this._FX=new is({gl:t,program:S.createProgramObject(t,S.createShaderObject(t,cs,t.VERTEX_SHADER),S.createShaderObject(t,hs,t.FRAGMENT_SHADER))});const r=await S.loadImage("./img/displacementMap2.png");this.texture1=S.createTexture(t,r),this.texture2=S.createTexture(t,r),t.bindTexture(t.TEXTURE_2D,this.texture2),this.setTextureWrapping(t.REPEAT),t.bindTexture(t.TEXTURE_2D,null);const e=await S.loadImage("./img/scene1.webp"),i=await S.loadImage("./img/scene2.webp"),n=await S.loadImage("./img/scene3.webp");this.texture3=[S.createTexture(t,e,this.MAX_ANISOTROPY,this.ext),S.createTexture(t,i,this.MAX_ANISOTROPY,this.ext),S.createTexture(t,n,this.MAX_ANISOTROPY,this.ext)],this.texture4=null;const s=await S.loadImage("./img/noise.png");this.texture5=S.createTexture(t,s),t.bindTexture(t.TEXTURE_2D,this.texture5),this.setTextureWrapping(t.REPEAT),t.bindTexture(t.TEXTURE_2D,null)}setupFramebuffer(){this.framebuffer=S.createFramebuffer(this.gl,this.framebufferSize,this.framebufferSize),this.framebuffer2=S.createFramebuffer(this.gl,this.framebufferSize,this.framebufferSize),this.updateFramebufferSize()}setupRendering(){const t=this.gl,r=this.time*3*2*1.5,e=this.outSphereRad-1,i=r%(e*2),n=Math.floor(r/(e*2))%2===1,s=i/(e*2),o=Math.floor(r/(e*4)+.5)%3,a={transZ:i,transZ_odd:n,inrSphereRad:this.inrSphereRad,outSphereRad:this.outSphereRad,progress:s};t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer.framebuffer),t.viewport(0,0,this.framebufferSize,this.framebufferSize),this.clearRender(),this._TEX.setupRendering({time:this.time,tex:[this.texture2],param:a}),t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer2.framebuffer),t.viewport(0,0,this.framebufferSize,this.framebufferSize),this.clearRender(),this._TEX.setupRendering_fx({time:this.time,tex:[this.texture5]}),t.bindFramebuffer(t.FRAMEBUFFER,null),t.viewport(0,0,this.canvas.width,this.canvas.height),this.clearRender();const u=V.create(Math.random()*.01-.005,10+Math.sin(s*Math.PI*2),Math.random()*.05-.025),f=V.create(0,0,0),l=V.create(0,0,1),_=D.lookAt(u,f,l),d=this.canvas.width/this.canvas.height,m=D.perspective(this.FOVY,d,this.NEAR,this.FAR),c=D.multiply(m,_);this._ENV.changeRenderingTarget({mask:!1}),this._ENV.setupRendering_background({time:this.time,eyePos:u,vp:c,index:0,tex:[this.texture2,this.texture3[o],this.texture4,this.framebuffer.texture],param:a}),this._GRASS.setupRendering({time:this.time,eyePos:u,vp:c,tex:[this.texture2,this.texture3[o],this.texture4,this.framebuffer.texture],param:a}),this._ENV.changeRenderingTarget({mask:!0}),this._ENV.setupRendering_background({time:this.time,eyePos:u,vp:c,index:1,tex:[this.texture2,this.texture3[o],this.texture4,this.framebuffer.texture],param:a}),this._ENV.changeRenderingTarget({mask:!1}),this._ENV.setupRendering_sphere({time:this.time,eyePos:u,vp:c,tex:[this.texture2,this.texture3[o],this.texture4,this.framebuffer.texture],param:a}),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE),this._FX.setupRendering({eyePos:u,vp:c,tex:[this.framebuffer2.texture]}),t.disable(t.BLEND)}start(){this.startTime=performance.now(),this.render()}clearRender(){const t=this.gl;t.clearColor(.3,.3,.3,1),t.clearColor(0,.6,0,1),t.clearDepth(1),t.clearStencil(0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT|t.STENCIL_BUFFER_BIT)}render(){requestAnimationFrame(()=>this.render()),this.time=(performance.now()-this.startTime)*.001,this.setupRendering()}setTextureWrapping(t){const r=this.gl;r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t)}}
